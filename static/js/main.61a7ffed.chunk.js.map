{"version":3,"sources":["areas/itemenums.ts","engine/Item.ts","engine/Location.ts","engine/Event.ts","areas/rugroom.ts","areas/livingroom.ts","areas/firepit.ts","engine/GameError.ts","areas/bar.ts","areas/poolwest.ts","areas/backyard.ts","areas/diningroom.ts","areas/pooleast.ts","areas/vr.ts","areas/hallway.ts","areas/kitchen.ts","areas/undecidedroom.ts","areas/bunkhouse.ts","areas/garage.ts","areas/main.ts","areas/insidegarage.ts","areas/notspecified.ts","areas/Courtyard.ts","areas/Tent.ts","engine/Command.ts","engine/GameEngine.ts","serviceWorker.ts","view/TextView.tsx","view/CommandView.tsx","view/ErrorView.tsx","view/HelpView.tsx","view/InventoryView.tsx","view/ItemView.tsx","view/LocationView.tsx","view/EventsView.tsx","Game.tsx","view/AsciiImage.tsx","view/GameSplashView.tsx","view/title.ts","index.tsx"],"names":["ItemKey","Item","use","examine","take","takeable","name","customCommands","this","Map","value","cmd","fn","set","Location","id","description","locations","items","onEnter","entered","path","location","toLowerCase","delete","item","setName","GameEventType","LocationChangeEvent","title","type","LOCATION_CHANGE","HelpEvent","avaibleCommands","HELP","NewInputEvent","input","NEW_INPUT","ItemEvent","customText","ITEM","InventoryEvent","INVENTORY","GameErrorEvent","errorType","ERROR","mainText","Cowskin","Ottoman","RugroomBookcase","deerHeadText","DeerHeadStatue","desc","rugroom","setId","setDesc","cushionDislodgeText","thumbStatueInsideText","ottoman","setExamine","setTakeable","setTake","setUse","addItem","Cushion","cushion","cushionMoved","dislodgeCushion","ThumbStatue","thumbStatue","on","wearCowskin","gameEngine","robe","inventoryContains","Rope","removeInventoryItem","currentLocation","Robe","send","cowskin","ornateKey","breakDeerhead","OrnateKey","deerHead","thievery","Thievery","readBook","book","bookcase","RugroomBook","vrText","Headset","pornText","Porn","bricabracText","Bricabrac","livingroom","porn","horn","bricabrac","DeerHorn","inVR","useHeadset","headset","vr","link","removeHeadset","removeItem","unlink","mainDesc","Firepit","chipCreated","chipTaken","chipText","RedChip","firepit","createRedChip","SkeweredEarl","redChip","usePit","Earl","pit","skeweredEarl","roastSkeweredEarl","useEarlAndHorn","tryItem","GameError","iceAvailable","Vitamix","Tequila","TripleSec","iceText","IceMaker","Ice","bar","tequilaPoured","tequila","triplesecPoured","triplesec","limeUsed","useLime","Lime","iceUsed","ice","greenChip","sips","takeMarg","Cup","Marg","marg","drinkMarg","GreenChip","cupUsed","useCup","margMade","vitamix","contents","quote1Done","quote2Done","quote3Done","doQuotes","prefix","hungry","woodenDolly","rj","icemaker","poolwest","Pool","blueChipTaken","pool","text","usePool","Snorkel","BlueChip","blueChip","flapText","Gate","backyard","leftToFeed","feedMeter","pokerChip","tent","gate","mafiaPlayable","mafiaWon","blackChipTaken","mafiaPlayers","townPlayers","executed","handleAccuse","arr","idx","indexOf","splice","push","length","wonMafia","lostMafia","playMafia","John","Paul","Joseph","Tom","Henry","Max","declarations","players","temporaryValue","randomIndex","currentIndex","Math","floor","random","shuffle","concat","join","quotes","map","playerName","banter","BlackChip","diningroom","blackChip","diningRoomText","diningRoomMafiaText","diningTable","thumbPlaced","peacePlaced","okayPlaced","notAllStatuesPlacedText","allStatuesPlacedText","placeThumb","placePeace","peaceStatue","PeaceStatue","placeOkay","okayStatue","OkayStatue","mafia","hottubText","keyText","pooleast","cupboardKey","useFish","CupboardKey","Fish","playingJob","filledCoffee","presented","shreddedPaper","jobGameHead","coffeeText","CoffeeCup","computerText","Powerdot","paperText","Papers","playJob","actionHeader","attendedParty","whiteChipTaken","RetirementParty","party","fillCoffee","cup","powerdot","shreddedCount","papers","WhiteChip","whiteChip","jobGame","ropeText","hallway","useRope","rope","ropeDesc","snacksTaken","cupTaken","limeTaken","artsApplied","counterText","Snacks","fridgeText","Fridge","kitchen","snacks","lime","usePorn","earlTaken","earl","fridge","fridgeDesc","fridgeContents","UndecidedBookcase","chestText","Chest","undecidedroom","chestUnlocked","chestOpen","useOrnateKey","chest","pouch","toolsTaken","Pouch","UndecidedBook","cabinetText","Cupboard","fishText","bunkhouse","fish","cupboardUnlocked","cupboardOpen","peaceStatueTaken","useCupboardKey","cupboard","doorUnlocked","lockedText","GarageDoor","exitText","garage","useTools","linkInsideGarage","setOnEnter","tagIt","insidegarage","snorkel","startTime","Date","gtag","global","action","event_category","event_label","toUTCString","getTime","courtyard","Courtyard","GameEngine","setStartLocation","Tent","coin","useCoin","Kayak","snorkelTaken","kayak","fountain","Coin","noteText","note","Fountain","Note","actionCount","CommandType","values","N","S","E","W","NE","NW","SE","SW","GO","TAKE","USE","LOOK","EXAMINE","inventory","events","changeLocation","direction","maybeNewLocation","get","INVALID_PATH","lowerInput","trim","cmdText","split","shift","find","rest","substr","move","itemName","maybeItem","NO_ITEM","getItem","Array","from","keys","commands","endsWith","maybeCustomCmd","maybeFunc","UNKNOWN_COMMAND","has","locationItem","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","TextView","props","startsWith","href","lines","line","index","key","Command","className","role","aria-label","orignalCommand","unknowns","errorMessage","ErrorView","helpMapper","HelpView","helpBlock","visibleCommand","command","InventoryView","ItemView","LocationView","EventsView","eventEnd","scrollToBottom","bind","scrollIntoView","addEventListener","removeEventListener","aria-live","aria-relevant","aria-atomic","event","CommandView","style","float","clear","ref","el","React","Game","nameInput","onBlur","handleKeyDown","GameArea","getEvents","lastInputPointer","setTimeout","focus","setState","preventDefault","getHistoryInput","autoFocus","onKeyDown","document","pointer","newInputEvents","filter","gameEvent","abs","slice","AsciiImage","imageSrc","classNames","alt","GameSplashView","GameSplash","gameStarted","handleTouch","ReactDOM","render","getElementById","URL","process","origin","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.61a7ffed.chunk.js","sourcesContent":["enum ItemKey {\n    BlackChip = \"black poker chip\"\n    , BlueChip = \"blue poker chip\"\n    , Bricabrac = \"bric-a-brac\"\n    , Chest = \"chest\"\n    , CoffeeCup = \"coffee cup\"\n    , Coin = \"coin\"\n    , Cowskin = \"cowskin rug\"\n    , Cup = \"cup\"\n    , Cupboard = \"cupboard\"\n    , CupboardKey = \"small key\"\n    , Cushion = \"cushion\"\n    , DeerHeadStatue = \"deer head statue\"\n    , DeerHorn = \"deer horn\"\n    , Earl = \"earl\"\n    , Firepit = \"firepit\"\n    , Fish = \"fish\"\n    , Fountain = \"fountain\"\n    , Fridge = \"fridge\"\n    , GarageDoor = \"garage door\"\n    , Gate = \"gate\"\n    , GreenChip = \"green poker chip\"\n    , Headset = \"headset\"\n    , Ice = \"ice\"\n    , IceMaker = \"ice maker\"\n    , Kayak = \"kayak\"\n    , Lime = \"lime\"\n    , Marg = \"marg\"\n    , Note = \"note\"\n    , OkayStatue = \"okay statue\"\n    , OrnateKey = \"ornate key\"\n    , Ottoman = \"ottoman\"\n    , Papers = \"papers\"\n    , PeaceStatue = \"peace statue\"\n    , Pool = \"pool\"\n    , Porn = \"porn\"\n    , Pouch = \"pouch\"\n    , Powerdot = \"powerdot\"\n    , RedChip = \"red poker chip\"\n    , RetirementParty = \"retirement party\"\n    , Robe = \"cowskin robe\"\n    , Rope = \"rope\"\n    , RugroomBook = \"blue book\"\n    , RugroomBookcase = \"bookcase\"\n    , SkeweredEarl = \"skewered earl\"\n    , Snacks = \"snacks\"\n    , Snorkel = \"snorkel\"\n    , Tequila = \"tequila\"\n    , Thievery = \"thievery\"\n    , ThumbStatue = \"thumb statue\"\n    , TripleSec = \"triple sec\"\n    , UndecidedBook = \"yellow book\"\n    , UndecidedBookcase = \"bookcase\"\n    , Vitamix = \"vitamix\"\n    , WhiteChip = \"white poker chip\"\n}\n\nexport default ItemKey;","class Item {\n    public use: () => string = () => \"\";\n    public examine: () => string = () => \"\";\n    public take: () => string = () => \"\";\n    public takeable = false;\n    public name: string = \"\";\n\n    public customCommands: Map<string, () => string>;\n\n    constructor() {\n        this.customCommands = new Map();\n    }\n\n    public setUse(use: () => string): Item {\n        this.use = use;\n        return this;\n    }\n\n    public setExamine(examine: () => string): Item {\n        this.examine = examine;\n        return this;\n    }\n\n    public setTakeable(value: boolean): Item {\n        this.takeable = value;\n        return this;\n    }\n\n    public setTake(take: () => string): Item {\n        this.take = take;\n        return this;\n    }\n\n    public on(cmd: string, fn: () => string): Item {\n        this.customCommands.set(cmd, fn);\n        return this;\n    }\n\n    public setName(name: string) {\n        this.name = name;\n        return this;\n    }\n}\n\nexport default Item;","import Item from './Item';\n\n// TODO: add collection of discovered items for displaying on LOOK\nclass Location {\n    public id: string = \"\";\n    public description: string = \"\";\n    public locations: Map<string, Location>;\n    public items: Map<string, Item>;\n    public onEnter: () => void;\n    public entered: boolean = false;\n\n    constructor() {\n        this.onEnter = () => undefined;\n        this.locations = new Map<string, Location>();\n        this.items = new Map<string, Item>();\n    }\n\n    public setId(value: string): Location {\n        this.id = value;\n        return this;\n    }\n\n    public setDesc(value: string): Location {\n        this.description = value;\n        return this;\n    }\n\n    public link(path: string, location: Location): Location {\n        this.locations.set(path.toLowerCase(), location);\n        return this;\n    }\n\n    public unlink(path: string): Location {\n        this.locations.delete(path.toLowerCase());\n        return this;\n    }\n\n    public addItem(name: string, item: Item): Location {\n        item.setName(name.toLowerCase());\n        this.items.set(name.toLowerCase(), item);\n        return this;\n    }\n\n    public removeItem(name: string): Location {\n        this.items.delete(name.toLowerCase());\n        return this;\n    }\n\n    public setOnEnter(fn: () => void): Location {\n        this.onEnter = fn;\n        return this;\n    }\n}\n\nexport default Location;","import { GameError } from './GameError';\n\nexport enum GameEventType {\n    LOCATION_CHANGE,\n    NEW_INPUT,\n    ITEM,\n    INVENTORY,\n    HELP,\n    ERROR,\n}\n\nexport class LocationChangeEvent {\n    public readonly type = GameEventType.LOCATION_CHANGE;\n    public constructor(\n        public title: string,\n        public description: string\n    ) {}\n}\n\nexport class HelpEvent {\n    public readonly type = GameEventType.HELP;\n    public constructor(public avaibleCommands: string[]) {}\n}\n\nexport class NewInputEvent {\n    public readonly type = GameEventType.NEW_INPUT;\n    public constructor(public input: string) {}\n}\n\nexport class ItemEvent {\n    public readonly type = GameEventType.ITEM;\n    public constructor(public customText: string) {}\n}\n\nexport class InventoryEvent {\n    public readonly type = GameEventType.INVENTORY;\n    public constructor(public items: string[]) {}\n}\n\nexport class GameErrorEvent {\n    public readonly type = GameEventType.ERROR;\n    public constructor(public errorType: GameError) {}\n}\n\nexport type GameEvent =\n    | LocationChangeEvent\n    | HelpEvent\n    | NewInputEvent\n    | ItemEvent\n    | InventoryEvent\n    | GameErrorEvent;","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet mainText: string = `This bedroom was dubbed The Cowskin Rug Bedroom due to its floors being covered in _${ItemKey.Cowskin}_s. An _${ItemKey.Ottoman}_ sits in front of a fireplace, oddly out of place. A _${ItemKey.RugroomBookcase}_ is built into one wall, its books arranged by color -- white, black, red, and blue. `;\nlet deerHeadText: string = `There's a _${ItemKey.DeerHeadStatue}_ sitting as an awkward decoration on a glass coffee table. `;\nlet exitText: string = \"\\n\\nThe door to the east leads back to the hallway.\";\n\nconst desc = () => {\n    return mainText +\n    deerHeadText + \n    exitText;\n}\n\nexport const rugroom = new Location()\n    .setId(\"Cowskin Rug Bedroom\")\n    .setDesc(desc());\n\nlet ottomanText: string = `The ottoman looks out of place, given there's no chair or couch near it. You wonder if it is meant to be used for something other than foot-resting... `;\nlet cushionDislodgeText: string = \"\";\nlet thumbStatueInsideText: string = \"\";\nconst ottomanDesc = () => {\n    return ottomanText +\n    cushionDislodgeText + \n    thumbStatueInsideText;\n}\nconst ottoman = new Item()\n    .setExamine(() => ottomanDesc())\n    .setTakeable(false)\n    .setTake(() => `As oddly out of place as it is, you think the ${ItemKey.Ottoman} should probably stay where it is.`)\n    .setUse(() => {\n        rugroom.addItem(ItemKey.Cushion, cushion);\n        return `You try putting your feet on the ${ItemKey.Ottoman}, and notice that the top _${ItemKey.Cushion}_ seems loose.`\n    });\n\nrugroom.addItem(ItemKey.Ottoman, ottoman);\n\nlet cushionMoved = false;\nconst dislodgeCushion = () => {\n    if (!cushionMoved) {\n        cushionMoved = true;\n        cushionDislodgeText = `The ${ItemKey.Cushion} atop the ${ItemKey.Ottoman} has been dislodged. `;\n        thumbStatueInsideText = `There is a _${ItemKey.ThumbStatue}_ inside the ${ItemKey.Ottoman}. `;\n        rugroom.addItem(ItemKey.ThumbStatue, thumbStatue);\n        return `Dislodging the ${ItemKey.Cushion} reveals a small storage compartment inside the ottoman. A familiar looking _${ItemKey.ThumbStatue}_ is inside.`\n    }\n    return `You've already dislodged the ${ItemKey.Cushion}.`;\n}\nconst cushion = new Item()\n    .setExamine(() => {\n        if (cushionMoved) {\n            return `The ${ItemKey.Cushion} atop the ${ItemKey.Ottoman} has been dislodged. It looks really good this way.`\n        }\n        return `The ${ItemKey.Cushion} atop the ${ItemKey.Ottoman} feels like it could be moved.`\n    })\n    .setTakeable(false)\n    .setTake(() => `As much fun as it would be to carry around the ${ItemKey.Ottoman}'s ${ItemKey.Cushion}, you don't want to permanently tear the thing off.`)\n    .setUse(() => `You consider laying your head on the ${ItemKey.Cushion}, but as your nose gets closer to it, your reasoning brain slows you down, bringing you to a stop while still a safe distance away.`)\n    .on(\"move\", () => dislodgeCushion())\n    .on(\"dislodge\", () => dislodgeCushion());\n\nexport const thumbStatue = new Item()\n    .setExamine(() => \"This is a small, decorative statue with the thumb up, Fonzie-style.\")\n    .setTake(() => {\n        thumbStatueInsideText = \"\";\n        return \"You put the thumb statue in your rucksack.\"\n    })\n    .setTakeable(true);\n\nexport const wearCowskin = (gameEngine: GameEngine, robe: Item) => {\n    if (!gameEngine.inventoryContains(ItemKey.Cowskin)) {\n        return `You have to take the _${ItemKey.Cowskin}_ before you can wear it.`;\n    }\n    if (!gameEngine.inventoryContains(ItemKey.Rope)) {\n        return `You try to wear the ${ItemKey.Cowskin}, but it slips off of you. If only you had something with which to secure it...`;\n    }\n    gameEngine.removeInventoryItem(ItemKey.Rope);\n    gameEngine.removeInventoryItem(ItemKey.Cowskin);\n    gameEngine.currentLocation.addItem(ItemKey.Robe, robe);\n    gameEngine.send(`take ${ItemKey.Robe}`);\n\n    return `You fashion a ${ItemKey.Robe} out of the fine ${ItemKey.Cowskin}, using the ${ItemKey.Rope} to secure it.`;\n}\nexport const cowskin = new Item()\n    .setExamine(() => `The ${ItemKey.Cowskin} is high quality, and looks to be just your size.`)\n    .setTakeable(true)\n    .setTake(() => `You put the ${ItemKey.Cowskin} in your rucksack.`)\n    .setUse(() => `You're not exactly sure how to use the ${ItemKey.Cowskin}, except that it might look great if you were wearing it.`);\nrugroom.addItem(ItemKey.Cowskin, cowskin);\n\nexport const ornateKey = new Item()\n    .setExamine(() => \"The key is fancy, with a fleur-de-lis as its bow and bitting that resembles a sunburst.\")\n    .setTakeable(true)\n    .setTake(() => \"You put the ornate key into your rucksack.\");\n\nexport const breakDeerhead = (gameEngine: GameEngine) => {\n    gameEngine.removeInventoryItem(ItemKey.DeerHeadStatue);\n    deerHeadText = \"\";\n    rugroom.setDesc(desc());\n    gameEngine.currentLocation.addItem(ItemKey.OrnateKey, ornateKey);\n\n    return `You make short work of the deer head statue. It shatters into at least a gazillion pieces. An _${ItemKey.OrnateKey}_ is among its remains.`;\n}\nexport const deerHead = new Item()\n    .setExamine(() => \"The deer head decoration looks quite hefty and potentially dangerous.\")\n    .setTakeable(true)\n    .setTake(() => {\n        deerHeadText = \"\";\n        rugroom.setDesc(desc());\n        return \"You put the deerhead statue in your rucksack.\"\n    })\n    .setUse(() => {\n        return \"As you prepare to somehow use the deer head statue, you notice a tinkling sound coming from inside it.\";\n    })\n    .on(\"shake\", () => \"You hear something rattling around inside. If only you could somehow get at it...\")\n    .on(\"open\", () => \"Open it? Really? Surely you can think of something more violent...\")\n    .on(\"hint\", () => \"Maybe try breaking the damn thing.\");\nrugroom.addItem(ItemKey.DeerHeadStatue, deerHead);\n\nconst thievery = new Item()\n    .setExamine(() => \"You know the ways of the thief!\")\n    .setTakeable(true)\n    .setTake(() => \"\")\n    .setUse(() => \"You can't actively use the knowledge by itself. You probably need some tools of the trade.\");\nrugroom.addItem(ItemKey.Thievery, thievery);\n\nexport const readBook = (gameEngine: GameEngine) => {\n    if (gameEngine.inventoryContains(ItemKey.Thievery)) {\n        return \"You've already gained the knowledge of thievery!\";\n    }\n\n    gameEngine.send(`take ${ItemKey.Thievery}`);\n    return \"You thumb through `The Way of Thieves`, pausing on the section on how to use thieves tools.\";\n}\n\nexport const book = new Item()\n    .setExamine(() => \"A well-worn blue book, titled `The Way of Thieves`.\")\n    .setTakeable(false)\n    .setTake(() => \"You wisely leave `The Way of Thieves` where it is. The irony of that action is not lost on you.\")\n    .setUse(() => \"\\\"Use\\\" the book...? What does one normally do with books?\");\n\nconst bookcase = new Item()\n    .setExamine(() => {\n        rugroom.addItem(ItemKey.RugroomBook, book);\n        return `The bookcase has a bunch of books on it, but only the _${ItemKey.RugroomBook}_ looks like it might be worth reading.`\n    })\n    .setTakeable(false)\n    .setTake(() => \"The bookcase is built into the wall. You aren't going to be able to take it.\");\nrugroom.addItem(ItemKey.RugroomBookcase, bookcase);","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\nimport { vr } from './vr';\n\nlet vrText: string = `The living room is spacious, especially since all of the furniture has been pushed out of the way to make room for the VR setup. The vr _${ItemKey.Headset}_, in particular, looks pretty sweet/sweat. `;\nlet pornText: string = `You notice that the _${ItemKey.Porn}_ is prevalent here, the most appealing of which is an old copy of \"Bovine Boudoir\". `;\nlet bricabracText: string = `There are also baskets full of various and sundry decorative _${ItemKey.Bricabrac}_ littered on every flat surface. `;\nlet exitText = \"\\n\\nTo the northeast is the bar, and the kitchen is to the east. To the west is a hallway leading to some bedrooms. The front door to the south leads to the courtyard.\";\n\nconst desc = () => {\n    return vrText +\n        pornText +\n        bricabracText +\n        exitText;\n}\n\nexport const livingroom = new Location()\n    .setId(\"Living Room\")\n    .setDesc(desc());\n\nexport const porn = new Item()\n    .setExamine(() => \"\\\"Bovine Boudoir\\\", June 1999 edition. The cover is an extremely provocative picture of Bessie in profile.\")\n    .setTakeable(true)\n    .setTake(() => {\n        pornText = \"You notice that the porn is prevalent here, but none of it appeals to you. \";\n        livingroom.setDesc(desc());\n\n        return \"You put the porn in your rucksack.\"\n    })\n    .on(\"read\", () => \"You thumb through the magazine, pausing on the most alluring of the pictures. Gertie got the centerfold, but your favorite is Henrietta.\")\n\nexport const horn = new Item()\n    .setExamine(() => \"It's a nice specimin, about a foot long, slightly curved, and very pointy.\")\n    .setTakeable(true)\n    .setTake(() => {\n        bricabrac.setExamine(() => \"Most of the bric-a-brac is made up of animal bones, almost certainly from deer.\")\n        return \"You put the deer horn into your rucksack.\"\n    });\n\nconst bricabrac = new Item()\n    .setExamine(() => {\n        livingroom.addItem(ItemKey.DeerHorn, horn);\n        return `Most of the bric-a-brac is made up of animal bones, almost certainly from deer. One _${ItemKey.DeerHorn}_ in particular catches your eye. Maybe it's the way it sticks up straight... like a... uh... tree.`;\n    })\n    .setTakeable(false)\n    .setTake(() => \"There's too much bric-a-brac to take all of it. You might focus on a single piece.\")\n    .setUse(() => \"There's no real use for bric-a-brac, is there?\");\n\nlet inVR: boolean = false;\nexport const useHeadset = (gameEngine: GameEngine, headset: Item, vr: Location) => {\n    if (inVR) {\n        return \"You're already in VR. If you'd like to leave, just remove the headset.\";\n    }\n    livingroom.link(\"vr\", vr);\n    inVR = true;\n    vr.addItem(ItemKey.Headset, headset);\n\n    gameEngine.send(\"go vr\");\n    return \"\";\n}\n\nexport const removeHeadset = (gameEngine: GameEngine, headset: Item) => {\n    if (!inVR) {\n        return \"You aren't wearing the vr headset right now.\";\n    }\n    vr.removeItem(ItemKey.Headset);\n    livingroom.unlink(\"vr\");\n    livingroom.addItem(ItemKey.Headset, headset);\n    vr.link(\"reality\", livingroom);\n    gameEngine.send(\"go reality\");\n    vr.unlink(\"reality\");\n    inVR = false;\n\n    return \"You have returned to non-virtual reality.\";\n}\n\nexport const headset = new Item()\n    .setExamine(() => \"The vr headset is slightly bulky, and smells (and feels) of stale sweat... the funk of 40,000 uses.\")\n    .setTakeable(false)\n    .setTake(() => \"Given that the vr headset will only work in the living room, you decide NOT to put it into your rucksack.\")\n    .on(\"remove\", () => {\n        if (!inVR) {\n        }\n        inVR = false;\n        livingroom.unlink(\"vr\");\n\n        return \"You remove the vr headset, returning you to non-virtual reality.\";\n    })\n\nlivingroom.addItem(ItemKey.Porn, porn);\nlivingroom.addItem(ItemKey.Bricabrac, bricabrac);\nlivingroom.addItem(ItemKey.Headset, headset);","import Location from '../engine/Location';\nimport GameEngine from '../engine/GameEngine';\nimport Item from '../engine/Item';\nimport ItemKey from './itemenums';\n\nlet mainDesc = `The _${ItemKey.Firepit}_ is ringed by a series of pale yellow, plastic chairs, which seem to be slowly melting before the force of a much larger than expected and completely unattended open fire. `\nlet exitDesc = \"\\n\\nA door to the south leads back inside the house, and the pool is to the east.\";\n\nlet chipCreated: boolean = false;\nlet chipTaken: boolean = false;\nconst desc = () => {\n    let chipText: string = \"\";\n    if (chipCreated && !chipTaken) {\n        chipText = `There is a _${ItemKey.RedChip}_ here. `;\n    }\n\n    return mainDesc\n        + chipText\n        + exitDesc;\n}\n\nexport const firepit = new Location()\n    .setId(\"Firepit\")\n    .setDesc(desc());\n\nconst createRedChip = (gameEngine: GameEngine) => {\n    gameEngine.removeInventoryItem(ItemKey.SkeweredEarl);\n    gameEngine.removeInventoryItem(ItemKey.Robe);\n    firepit.addItem(ItemKey.RedChip, redChip);\n    chipCreated = true;\n    firepit.setDesc(desc());\n\n    return `With your cowskin robe protecting you, you extend the skewered earl to the flames. The fire greedily consumes the earl, turning it from a tender sanguine red to elongated coal brick in the blink of an eye. The flame progresses up what's left of the deer horn skewer and begins to burn your fashionable cowskin robe. In a panic, you tear the robe off, fumbling the skewer. Both skewer and robe fall to the ground burning as you leap backwards. A moment later, the flames have died down, and you notice that from the ashes of the earl you can see the edge of something small, round, and red. Brushing the ashes away, you realize that it is a _${ItemKey.RedChip}_.`;\n}\n\nexport const usePit = (gameEngine: GameEngine) => {\n    if (!gameEngine.inventoryContains(ItemKey.Robe)) {\n        return \"As you approach the fire pit, the heat from the suddenly flaring flames starts to blister your skin. If only you had some protection...\"\n    }\n    if (!gameEngine.inventoryContains(ItemKey.SkeweredEarl)) {\n        if (gameEngine.inventoryContains(ItemKey.Earl) && !gameEngine.inventoryContains(ItemKey.DeerHorn)) {\n            return \"You realize your hand will cook before the earl is done. If only you had something with which to skewer the earl...\";\n        }\n        if (gameEngine.inventoryContains(ItemKey.DeerHorn) && !gameEngine.inventoryContains(ItemKey.Earl)) {\n            return \"It looks like you could use the deer horn as a skewer, if only you had something to put on it...\";\n        }\n        return \"You've got the earl, and you've got the deer horn. Maybe you should do something with those, now that you're at the firepit...?\"\n    }\n\n    return createRedChip(gameEngine);\n}\n\nexport const pit = new Item()\n    .setExamine(() => \"The firepit is roaring mightily. The flames are at least four feet high.\");\nfirepit.addItem(ItemKey.Firepit, pit);\n\nexport const skeweredEarl = new Item()\n    .setExamine(() => \"The earl is skewered on the end of the deer horn. It would be perfect for eating, if only it were roasted.\")\n    .setTakeable(true)\n    .setTake(() => \"\");\n\nexport const redChip = new Item()\n    .setExamine(() => \"The poker chip is red, with a small emblem of an earl on a horn in the middle, and feels slightly hot to the touch.\")\n    .setTakeable(true)\n    .setTake(() => {\n        chipTaken = true;\n        firepit.setDesc(desc());\n        return \"You put the red poker chip into your rucksack.\"\n    });\n\nexport const roastSkeweredEarl = (gameEngine: GameEngine) => {\n    if (gameEngine.currentLocation !== firepit) {\n        return \"There's nothing with which to roast the skewered earl properly here.\";\n    }\n    if (!gameEngine.inventoryContains(ItemKey.Robe)) {\n        return \"As you approach the fire pit, the heat from the suddenly flaring flames starts to blister your skin. If only you had some protection...\";\n    }\n\n    return createRedChip(gameEngine);\n}\n\nexport const useEarlAndHorn = (gameEngine: GameEngine, tryItem: string) => {\n    if (gameEngine.inventoryContains(ItemKey.Earl) \n        && gameEngine.inventoryContains(ItemKey.DeerHorn)) {\n        gameEngine.currentLocation.addItem(ItemKey.SkeweredEarl, skeweredEarl);\n        gameEngine.send(`take ${ItemKey.SkeweredEarl}`);\n        gameEngine.removeInventoryItem(ItemKey.Earl);\n        gameEngine.removeInventoryItem(ItemKey.DeerHorn);\n        return \"You plunge the pointy end of the deer horn into the earl, priming the earl for roasting.\";\n    }\n\n    if (tryItem === ItemKey.DeerHorn \n        && !gameEngine.inventoryContains(ItemKey.Earl)) {\n        return \"You wave the deer horn around like a magic wand.\\n\\nNothing happens.\\n\\nMaybe if you put something on it...?\";\n    }\n    if (tryItem === ItemKey.Earl && !gameEngine.inventoryContains(ItemKey.DeerHorn)) {\n        return \"You wave the earl around like a magic wand.\\n\\nNothing happens.\\n\\nMaybe if you put it on something...?\";\n    }\n    return \"\";\n}","export enum GameError {\n    INVALID_PATH,\n    UNKNOWN_COMMAND,\n    NO_ITEM,\n}\n","import Location from '../engine/Location'\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet iceAvailable: boolean = false;\nconst desc = () => {\n    let mainText: string = `You are in the bar. All of the implements you need to make a mean marg are here... Well, almost... There's a _${ItemKey.Vitamix}_, _${ItemKey.Tequila}_, and _${ItemKey.TripleSec}_... but no lime. `;\n    let iceText: string = `You presume there's ice in the _${ItemKey.IceMaker}_. `\n    let exitText: string = \"\\n\\nSouthwest leads back to the living room.\";\n    if (iceAvailable) {\n        iceText = `There is some _${ItemKey.Ice}_ available in the ice maker.`;\n    }\n\n    return mainText\n        + iceText\n        + exitText;\n}\n\nexport const bar = new Location()\n    .setId(\"Bar\")\n    .setDesc(desc());\n\nlet tequilaPoured: boolean = false;\nconst tequila = new Item()\n    .setExamine(() => \"The tequila is of average quality, but there's LOTS of it.\")\n    .setTakeable(false)\n    .setTake(() => \"The tequila really shouldn't be moved out of the bar.\")\n    .setUse(() => {\n        if (tequilaPoured) {\n            return \"You've already added the tequila.\";\n        }\n        tequilaPoured = true;\n        return \"You pour the proper amount of tequila into the vitamix.\";\n    });\nbar.addItem(ItemKey.Tequila, tequila);\n\nlet triplesecPoured: boolean = false;\nconst triplesec = new Item()\n    .setExamine(() => \"The triple sec is of unknown quality, but there's LOTS of it.\")\n    .setTakeable(false)\n    .setTake(() => \"The unknown really shouldn't be moved out of the bar.\")\n    .setUse(() => {\n        if (triplesecPoured) {\n            return \"You've already added the triple sec.\";\n        }\n        triplesecPoured = true;\n        return \"You pour the proper amount of tequila into the vitamix.\";\n    });\nbar.addItem(ItemKey.TripleSec, triplesec);\n\nlet limeUsed: boolean = false;\nexport const useLime = (gameEngine: GameEngine) => {\n    if (limeUsed) {\n        return \"You've already added the lime.\";\n    }\n\n    limeUsed = true;\n    gameEngine.removeInventoryItem(ItemKey.Lime);\n    return \"You cut the lime, squeezing each wedge into the vitamix. Then you thrown the rinds in for good measure.\";\n}\n\nlet iceUsed: boolean = false;\nconst ice = new Item()\n    .setExamine(() => \"Looks pretty cold, but not Sonic-style crunchy.\")\n    .setTakeable(false)\n    .setTake(() => \"Eh, it'll probably melt before you can get out of the bar area...\")\n    .setUse(() => {\n        iceUsed = true;\n        return \"You add the ice to the vitamix.\"\n    });\n\nexport const greenChip = new Item()\n    .setExamine(() => \"The green poker chip looks slightly sticky and smells of tequila.\")\n    .setTakeable(true)\n    .setTake(() => {\n        chipTaken = true;\n        return \"You put the green poker chip into your rucksack.\";\n    });\n\nlet sips: number = 0;\nlet chipTaken: boolean = false;\nexport const takeMarg = (gameEngine: GameEngine) => {\n    if (!gameEngine.inventoryContains(ItemKey.Cup)) {\n        gameEngine.removeInventoryItem(ItemKey.Marg);\n        bar.addItem(ItemKey.Marg, marg);\n        return \"You don't have anything to pour the marg into!\";\n    }\n    gameEngine.removeInventoryItem(ItemKey.Cup);\n    return \"You put the marg into your rucksack. You're sure it'll be fine.\";\n}\n\nexport const drinkMarg = (gameEngine: GameEngine) => {\n    if (sips > 4) {\n        if (!chipTaken) {\n            gameEngine.currentLocation.addItem(ItemKey.GreenChip, greenChip);\n            gameEngine.send(`take ${ItemKey.GreenChip}`);\n\n            return `On taking this sip, something slides forward from the bottom of the cup. Looking inside, you see a green poker chip. You slide it into your rucksack.`;\n        }\n\n        return \"You've taken the last sip of the marg. It was great while it lasted.\";\n    }\n    sips++;\n    switch (sips) {\n        case 1: {\n            return \"You take a sip of the marg. It's pleasantly citrusy and intoxicating. There's still plenty left in the cup.\"\n        }\n        case 2: {\n            return \"You take a sip of the marg. It's pleazantly citrusey and intoxicating. There's a little less than plenty left in the cup.\"\n        }\n        case 3: {\n            return \"You take a sip of the marg. It's ploozantly citrusay and intoxicating. There's about half left in the cup.\"\n        }\n        case 4: {\n            return \"You take a sip of the marg. It's citroosly pleesant and intoxicating. There's less than half left in the cup.\"\n        }\n        case 5: {\n            return \"You take a sip of the marg. It's clitrantly ploosey and intoxicating. There's only a little left in the cup.\"\n        }\n    }\n    return \"\";\n}\n\nexport const marg = new Item()\n    .setExamine(() => \"This marg was brought to you by the vitamix.\")\n    .setTakeable(true);\n\nlet cupUsed: boolean = false;\nexport const useCup = (gameEngine: GameEngine) => {\n    if (gameEngine.currentLocation !== bar) {\n        return \"You can't use the cup here.\";\n    }\n    if (!margMade) {\n        return \"You don't have a use for the cup... yet...\";\n    }\n    cupUsed = true\n    gameEngine.send(`take ${ItemKey.Marg}`);\n\n    return \"You pour the _marg_ out of the vitamix and into your cup. It's ready for drinking!\";\n}\n\nlet margMade: boolean = false;\nconst vitamix = new Item()\n    .setExamine(() => {\n        if (margMade) {\n            if (cupUsed) {\n                return \"The vitamix is empty, having been used to make a delicious _marg_.\";\n            }\n            return \"You've already made the _marg_! You should pour it into something from which to drink.\";\n        }\n        if (!tequilaPoured && !triplesecPoured && !limeUsed && !iceUsed) {\n            return \"The vitamix is currently empty.\";\n        } else if (tequilaPoured && triplesecPoured && limeUsed && iceUsed && !margMade) {\n            return \"The vitamix looks full! Time to make the marg!\";\n        }\n        let contents: string = \"The vitamix currently contains:\\n\\n\";\n        if (tequilaPoured) { contents += \"tequila\\n\"; }\n        if (triplesecPoured) { contents += \"triple sec\\n\"; }\n        if (limeUsed) { contents += \"lime\\n\"; }\n        if (iceUsed) { contents += \"ice\\n\"; }\n\n        return contents;\n    })\n    .setTakeable(false)\n    .setUse(() => {\n        if (tequilaPoured && triplesecPoured && limeUsed && iceUsed && !margMade) {\n            margMade = true;\n            bar.addItem(\"marg\", marg);\n            return \"Flipping the switch, the vitamix works its votexy magic and produces a lovely looking _marg_.\";\n        }\n        return \"The vitamix doesn't look like it's ready to be used.\";\n    });\nbar.addItem(\"vitamix\", vitamix);\n\nlet quote1Done: boolean = false;\nlet quote2Done: boolean = false;\nlet quote3Done: boolean = false;\nconst doQuotes = (prefix: string) => {\n    if (quote1Done && quote2Done && quote3Done) {\n        bar.addItem(\"ice\", ice);\n        iceAvailable = true;\n        bar.setDesc(desc());\n\n        return \"The ice maker says, \\\"You've proven yourself worthy of ice!\\\" After some internal clicking, you realize the _ice_ is available.\";\n    }\n    if (!quote1Done) {\n        bar.addItem(\"rj\", rj);\n        return prefix + \"\\n\\nWho will provide?\";\n    }\n    if (!quote2Done) {\n        bar.addItem(\"wooden dolly\", woodenDolly);\n        return prefix + \"\\n\\nWhat should I go home and play with?\";\n    }\n\n    bar.addItem(\"hungry\", hungry);\n    return prefix + \"\\n\\nWhere will you never go as long as you stick with me?\";\n}\n\nconst rj = new Item()\n    .on(\"say\", () => {\n        if (!quote1Done) {\n            quote1Done = true;\n            bar.removeItem(\"rj\");\n            return doQuotes(\"Correct! Next...\");\n        }\n        return \"\";\n    });\n\nconst woodenDolly = new Item()\n    .on(\"say\", () => {\n        if (!quote2Done) {\n            quote2Done = true;\n            bar.removeItem(\"wooden dolly\");\n            return doQuotes(\"Correct! Next...\");\n        }\n        return \"\";\n    });\n\nconst hungry = new Item()\n    .on(\"say\", () => {\n        if (!quote3Done) {\n            quote3Done = true;\n            bar.removeItem(\"hungry\");\n            return doQuotes(\"\");\n        }\n        return \"\";\n    })\n\nconst icemaker = new Item()\n    .setExamine(() => \"The ice maker hums quietly to itself.\")\n    .setTakeable(false)\n    .setTake(() => \"The ice maker is built into the bar and can't be taken.\")\n    .setUse(() => doQuotes(\"The ice maker speaks! \\\"Answer my questions to get the ice!\\\" (start your response with \\\"say\\\")\"))\n    .on(\"open\", () => doQuotes(\"The ice maker speaks! \\\"Answer my questions to get the ice!\\\" (start your response with \\\"say\\\")\"));\nbar.addItem(ItemKey.IceMaker, icemaker);","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nconst desc = () => {\n    let mainText: string = `This is the west side of the _${ItemKey.Pool}_. It's slightly deeper than the east side. `\n    let exitText: string = \"\\n\\nThe other end of the pool is to your east, and the firepit is to the west. Going northeast will take you into the backyard, where there's a jauntily decorated tent.\";\n    return mainText\n        + exitText;\n}\n\nexport const poolwest = new Location()\n    .setId(\"Pool (West End)\")\n    .setDesc(desc());\n\nlet blueChipTaken = false;\nexport const pool = new Item()\n    .setExamine(() => {\n        let text: string = \"The water looks clean. Clean-ish. It's hard to tell how many people have already peed in it, honestly. \";\n        if (!blueChipTaken) {\n            text += \"You can barely make out a slightly darker blue thing sitting on the bottom of the pool, but you really can't see what it is.\";\n        }\n        return text;\n    });\npoolwest.addItem(ItemKey.Pool, pool);\n\nexport const usePool = (gameEngine: GameEngine) => {\n    if (gameEngine.currentLocation !== poolwest) {\n        return \"There's no real use for that here.\";\n    }\n    if (!gameEngine.inventoryContains(ItemKey.Snorkel)) {\n        return \"Without some kind of protective gear, you would last two seconds in that pool.\";\n    }\n    if (blueChipTaken) {\n        return \"You swim around for a few minutes, basking in the protection the snorkel provides you.\";\n    }\n    poolwest.addItem(ItemKey.BlueChip, blueChip);\n    return `You jump into the pool, the snorkel providing you with protection from whatever substances might be in the water. Through the snorkel, you can now see that the thing on the bottom of the pool is a _${ItemKey.BlueChip}_.`;\n}\n\nexport const blueChip = new Item()\n    .setExamine(() => \"The blue poker chip is in good, if wet, condition.\")\n    .setTakeable(true)\n    .setTake(() => {\n        blueChipTaken = true;\n        return \"You put the blue poker chip into your obviously waterproof rucksack.\"\n    });","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet mainText: string = \"The backyard has a large, jauntily decorated tent in it, the kind that would uncomfortably house all the LBPers for a poker game during a raging thunderstorm. \";\nlet flapText: string = `The front flap is closed, and appears to be blocked by a parking lot _${ItemKey.Gate}_, the arm firmly down. `;\nlet exitText: string = \"\\n\\nGoing southeast will take you to the east end of the pool, and southwest to the west end of the pool.\";\n\nconst desc = () => {\n    return mainText +\n        flapText +\n        exitText;\n}\n\nexport const backyard = new Location()\n    .setId(\"Backyard\")\n    .setDesc(desc());\n\nlet leftToFeed: number = 5;\nexport const feedMeter = (gameEngine: GameEngine, pokerChip: Item, tent: Location) => {\n    if (gameEngine.currentLocation !== backyard) {\n        return \"You can't used the poker chip here.\";\n    }\n    gameEngine.removeInventoryItem(pokerChip.name);\n    leftToFeed--;\n    if (leftToFeed === 0) {\n        backyard.removeItem(ItemKey.Gate);\n        flapText = \"The front flap is open, the parking gate's arm almost waving you inside. \";\n        backyard.setDesc(desc());\n        backyard.link(\"through flap\", tent);\n        return \"As you place the fifth poker chip into the slot, the gate's arm slowly raises, granting you access to the tent via the flap.\";\n    }\n    return \"You put the poker chip into the meter.\";\n}\n\nconst gate = new Item()\n    .setExamine(() => {\n        let leftText: string = leftToFeed > 1 ? leftToFeed + \" more chips\" : \"1 more chip\";\n        return \"The parking lot gate is pretty standard, except that you can't manage to get around it, and its coin slot looks like it accepts poker chips. It also looks like it requires \" + leftText + \" before it will open.\" \n    })\n    .setTakeable(false)\n    .setTake(() => \"You cannot take the parking gate. It just wouldn't be right.\")\n    .setUse(() => \"In Soviet Russia, parking gate USE YOU!\");\n\nbackyard.addItem(ItemKey.Gate, gate);","import GameEngine from '../engine/GameEngine';\nimport Location from \"../engine/Location\";\nimport Item from \"../engine/Item\";\nimport ItemKey from './itemenums';\n\nconst shuffle = (arr: any[]) => {\n    let currentIndex = arr.length, temporaryValue, randomIndex;\n\n    while (currentIndex !== 0) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n\n        temporaryValue = arr[currentIndex];\n        arr[currentIndex] = arr[randomIndex];\n        arr[randomIndex] = temporaryValue;\n    }\n    return arr;\n}\n\nlet mafiaPlayable: boolean = false;\nlet mafiaWon: boolean = false;\nlet blackChipTaken: boolean = false;\nlet mafiaPlayers: string[] = [\"John\", \"Paul\"];\nlet townPlayers: string[] = [\"Joseph\", \"Tom\", \"Henry\", \"Max\"];\nlet executed: string[] = [];\n\nconst handleAccuse = (name: string, type: string, arr: string[]) => {\n    const idx = arr.indexOf(name);\n    if (idx > -1) {\n        arr.splice(idx, 1);\n    }\n    executed.push(name + \" (\" + type + \")\");\n    if (mafiaPlayers.length === 0) {\n        return wonMafia();\n    } else if (mafiaPlayers.length > townPlayers.length) {\n        return lostMafia();\n    }\n    return playMafia();\n}\n\nconst John = new Item()\n    .on(\"accuse\", () => {\n        return handleAccuse(\"John\", \"mafia\", mafiaPlayers);\n    });\nconst Paul = new Item()\n    .on(\"accuse\", () => {\n        return handleAccuse(\"Paul\", \"mafia\", mafiaPlayers);\n    });\nconst Joseph = new Item()\n    .on(\"accuse\", () => {\n        return handleAccuse(\"Joseph\", \"civilian\", townPlayers);\n    });\nconst Tom = new Item()\n    .on(\"accuse\", () => {\n        return handleAccuse(\"Tom\", \"civilian\", townPlayers);\n    });\nconst Henry = new Item()\n    .on(\"accuse\", () => {\n        return handleAccuse(\"Henry\", \"civilian\", townPlayers);\n    });\nconst Max = new Item()\n    .on(\"accuse\", () => {\n        return handleAccuse(\"Max\", \"civilian\", townPlayers);\n    });\n\nconst declarations: string[] = [\n    \"I'm a simple townsperson! Don't accuse me!\"\n    , \"C'mon, you know me! I'm innocent!\"\n    , \"I'm definitely NOT mafia. You believe me, don't you?\"\n    , \"Well, it's obviously not me. I'm the doctor!\"\n    , \"Hang on, you can't think it's me -- I'm the detective!\"\n    , \"Surely you jest if you consider me anything but a loyal townie!\"\n    , \"Of everyone at this table, besides you, I am the most town-ish.\"\n    , \"I'm the Merlin! Wait, is there a wizard of some kind in this game?\"\n    , \"I'm the sheriff! That's the detective's bumpkin, right?\"\n    , \"I can't really say who I am, since I'm in witness protection.\"\n    , \"I shouldn't say this, but I'm an undercover cop. Don't kill me!\"\n    , \"Based on my voting pattern, you can tell I'm a regular townsperson.\"\n    , \"Sorry, I wasn't paying attention. What game are we playing?\"\n    , \"I'm all in. I mean... uh, innocent.\"\n    , \"Did I hear someone say that Axis and Allies is almost set up?\"\n    , \"Did you know there's a professional league for Mafia? I'm not in it...\"\n    , \"You'll notice I've only done pro-town things all the way!\"\n    , \"Mafia is scum! Down with the mafia!\"\n    , \"I don't think I've ever played a game of mafia this intense!\"\n    , \"Even though 90% of common knowledge is crap, I want you to know I'm a regular townsperson.\"\n    , \"If you accuse me, you'll regret it. I mean that in a good way, not the \\\"I'm with the mafia!\\\" way.\"\n    , \"It doesn't matter who you accuse, as long as it's not me!\"\n    , \"The supreme art of war is to subdue the enemy without fighting.\"\n    , \"Appear weak when you are strong, and strong when you are weak.\"]\n\nconst banter = (players: string[]): string => {\n    let quotes: string[] = [];\n    players.map((playerName) => {\n        quotes.push(playerName + \" says: \" + declarations[Math.floor(Math.random() * declarations.length)]);\n    });\n    return quotes.join(\"\\n\");\n}\n\nconst playMafia = () => {\n    if (mafiaPlayable) {\n        let players = shuffle(mafiaPlayers.concat(townPlayers));\n        let response = \"You... are a civilian.\"\n        + \"\\n\\nThe Moderator speaks. Remaining players (besides you) are: \" + players.join(\", \")\n        + \"\\n\\n\" + banter(players)\n        + \"\\n\\nYou have executed: \" + executed.join(\", \")\n        + \"\\n\\nYou may accuse a player by entering `accuse <player name>`. Enough people at the table will agree with your decision to guarantee its adoption. If the balance tips in the mafia's favor, the game is over!\";\n        return response;\n    } else if (mafiaWon && !blackChipTaken) {\n        return `You've already won the Mafia game. You just need to take the _${ItemKey.BlackChip}_.`;\n    } \n    return \"With whom?\";\n};\nconst lostMafia = () => {\n    mafiaPlayers = [\"John\", \"Paul\"];\n    townPlayers = [\"Joseph\", \"Tom\", \"Henry\", \"Max\"];\n    executed = [];\n    \n    return \"\\\"The mafia has won!\\\" exclaims the Moderator. \\\"The game will be reset. Better luck next time, kid.\\\"\";\n}\nconst wonMafia = () => {\n    diningroom.addItem(ItemKey.BlackChip, blackChip);\n    mafiaWon = true;\n    mafiaPlayable = false;\n\n    return `\"You've won the game!\" declares the Moderator. \"Please accept this as a token of your prowess.\"\\n\\nThe Moderator slides a _${ItemKey.BlackChip}_ toward you.`\n}\nconst quitMafia = () => {\n    return \"You stand up and leave the table, the Moderator casting a confused look at you.\";\n}\n\nlet diningRoomText = \"The dining room is dominated by a large glass _dining table_. A door to the north leads outside, and the kitchen is to your west.\"\nlet diningRoomMafiaText = \"The dining room is dominated by a large glass dining table. Seven people are sitting around the table, looking at you expectently. A door to the north leads outside, and the kitchen is to your west.\";\n\nexport const diningroom = new Location()\n    .setId(\"Dining Room\")\n    .setDesc(diningRoomText);\n\nconst diningTable = new Item()\n    .setExamine(() => {\n        if (mafiaPlayable) {\n            return \"The table is resplendent with three statues, and is surrounded by seven people looking at you expectently.\";\n        } else if (mafiaWon && !blackChipTaken) {\n            return `The table is covered in fingerprints, but is resplendent with three hand statues. A _${ItemKey.BlackChip}_ is near the statues.`;\n        } else if (mafiaWon) {\n            return \"The table is covered in fingerprints, but is resplendent with three hand statues.\";\n        }\n        return \"The table is covered in fingerprints, except for three circles. It looks as if some things used to adorn the table top but were recently removed.\";\n    })\n    .setTake(() => \"The dining table definitely will NOT fit in your rucksack.\")\n    .setTakeable(false)\n    .setUse(() => {\n        if (!mafiaPlayable) {\n            return \"Using the dining table probably involves replacing whatever was recently removed.\";\n        }\n        return playMafia();\n    });\n\nlet thumbPlaced = false;\nlet peacePlaced = false;\nlet okayPlaced = false;\nlet notAllStatuesPlacedText = \"You place the statue in one of the empty spots on the table.\";\nlet allStatuesPlacedText = \"As you place the final statue on the table, a group of seven guys, none of whom you recognize, walk into the kitchen. They introduce themselves as Henry, John, Joseph, Max, Paul, Tom, and Moderator. They take seats around the table, and Moderator starts shuffling some cards.\\n\\n\\\"Care for a game of Mafia?\\\" Moderator asks.\";\n\n// TODO: DRY\nexport const placeThumb = (gameEngine: GameEngine, thumbStatue: Item) => {\n    if (gameEngine.currentLocation === diningroom) {\n        thumbPlaced = true;\n        diningroom.addItem(ItemKey.ThumbStatue, thumbStatue);\n        gameEngine.removeInventoryItem(ItemKey.ThumbStatue);\n        thumbStatue.setTake(() => \"The thumb statue looks perfect where it is. You should leave it there.\")\n        thumbStatue.setTakeable(false);\n        if (peacePlaced && okayPlaced) {\n            diningroom.setDesc(diningRoomMafiaText);\n            mafiaPlayable = true;\n            return allStatuesPlacedText;\n        }\n        return notAllStatuesPlacedText;\n    }\n    return \"This doesn't look like the right place to use the thumb statue.\"\n}\n\nexport const placePeace = (gameEngine: GameEngine, peaceStatue: Item) => {\n    if (gameEngine.currentLocation === diningroom) {\n        peacePlaced = true;\n        diningroom.addItem(ItemKey.PeaceStatue, peaceStatue);\n        gameEngine.removeInventoryItem(ItemKey.PeaceStatue);\n        peaceStatue.setTake(() => \"The peace statue looks perfect where it is. You should leave it there.\")\n        peaceStatue.setTakeable(false)\n        if (thumbPlaced && okayPlaced) {\n            diningroom.setDesc(diningRoomMafiaText);\n            mafiaPlayable = true;\n            return allStatuesPlacedText;\n        }\n        return notAllStatuesPlacedText;\n    }\n    return \"This doesn't look like the right place to use the peace statue.\"\n}\n\nexport const placeOkay = (gameEngine: GameEngine, okayStatue: Item) => {\n    if (gameEngine.currentLocation === diningroom) {\n        okayPlaced = true;\n        diningroom.addItem(ItemKey.OkayStatue, okayStatue);\n        gameEngine.removeInventoryItem(ItemKey.OkayStatue);\n        okayStatue.setTake(() => \"The okay statue looks perfect where it is. You should leave it there.\")\n        okayStatue.setTakeable(false)\n        if (thumbPlaced && peacePlaced) {\n            diningroom.setDesc(diningRoomMafiaText);\n            mafiaPlayable = true;\n            return allStatuesPlacedText;\n        }\n        return notAllStatuesPlacedText;\n    }\n    return \"This doesn't look like the right place to use the okay statue.\"\n}\n\nconst mafia = new Item()\n    .setExamine(() => playMafia())\n    .setTake(() => \"The Moderator looks at you sternly, saying \\\"Those aren't your cards.\\\"\")\n    .setTakeable(false)\n    .setUse(() => \"You can accuse someone or quit the game.\")\n    .on(\"play\", playMafia)\n    .on(\"quit\", quitMafia);\n\nexport const blackChip = new Item()\n    .setExamine(() => \"The black poker chip looks completely smooth and shiny, like it's hardly been used.\")\n    .setTake(() => {\n        blackChipTaken = true;\n        diningroom.setDesc(diningRoomText);\n        return \"You put the black poker chip into your rucksack. As you do, the people around the table rise, tip their hats to you, and make their way out.\"\n    })\n    .setTakeable(true);\n\ndiningroom.addItem(\"dining table\", diningTable);\ndiningroom.addItem(\"mafia\", mafia);\ndiningroom.addItem(\"john\", John);\ndiningroom.addItem(\"paul\", Paul);\ndiningroom.addItem(\"joseph\", Joseph);\ndiningroom.addItem(\"tom\", Tom);\ndiningroom.addItem(\"henry\", Henry);\ndiningroom.addItem(\"max\", Max);","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet mainText: string = \"This is the east end of the pool. It's slightly shallower than the west end, and sports a hot tub to the side as well. \";\nlet hottubText: string = \"The hot tub is bubbling merrily, and there's a very thin haze of steam coming off its water's surface. \";\nlet keyText: string = \"\";\nlet exitText: string = \"\\n\\nThe other end of the pool is to the west, and the bunkhouse is to the east. To the northwest lies the backyard which sports a jauntily decorated tent, and the garage is to the southeast. A door to the south leads back inside the house.\" ;\n\nconst desc = () => {\n    return mainText +\n    hottubText +\n    keyText +\n    exitText;\n}\n\nexport const pooleast = new Location()\n    .setId(\"Pool (East End)\")\n    .setDesc(desc());\n\nexport const cupboardKey = new Item()\n    .setExamine(() => \"The key is small and slightly tarnished, but sturdy enough to be used to open a lock of some kind.\")\n    .setTakeable(true)\n    .setTake(() => {\n        keyText = \"\";\n        pooleast.setDesc(desc());\n        return \"You put the small key into your rucksack.\"\n    });\n\nexport const useFish = (gameEngine: GameEngine) => {\n    if (gameEngine.currentLocation === pooleast) {\n        pooleast.addItem(ItemKey.CupboardKey, cupboardKey);\n        gameEngine.removeInventoryItem(ItemKey.Fish);\n        hottubText = \"The hot tub is bubbling merrily, and there's a very thin haze of steam coming off its water's surface. There's also a happy fish swimming around in it. \"\n        keyText = `A _${ItemKey.CupboardKey}_ sits on the edge of the hot tub. `\n        pooleast.setDesc(desc());\n        return `You release the fish into the hot tub. It floats there a moment, then, much to your surprise, starts flapping its fins and wiggling its tail. It submerges for a moment, then comes back to the surface, making a gagging sound. A moment later, it regurgitates a _${ItemKey.CupboardKey}_ onto the edge of the hottub. Apparently some fisherman of little means had used it as a lure in order to catch this fish. The fish stares at you a moment, then submerges again. You are sure that, had it possessed eyelids, it would have just winked at you.`\n    }\n    return \"This doesn't look like the right place to use the fish.\";\n}","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport ItemKey from './itemenums';\n\nlet mainText: string = \"You are in... VIRTUAL REALITY! \\n\\n\";\nlet menuText: string = \"You can play the following games:\\n\\nJob Simulator\\n\\nApparently the vr machine isn't very powerful this year. \";\nlet exitText: string = \"\\n\\nTo leave VR, simply remove the vr headset.\"\n\nconst desc = () => {\n    return mainText +\n    menuText + \n    exitText;\n}\nexport const vr = new Location()\n    .setId(\"Virtual Reality\")\n    .setDesc(desc());\n\nlet playingJob: boolean = false;\nlet filledCoffee: boolean = false;\nlet presented: boolean = false;\nlet shreddedPaper: boolean = false;\nlet jobGameHead: string = \"You find yourself in a virtual office environment -- a cube, to be precise. \\n\\n\";\nlet coffeeText: string = `There's an empty _${ItemKey.CoffeeCup}_ on the desk. `;\nlet computerText: string = `The computer screen displays a _${ItemKey.Powerdot}_ presentation. `;\nlet paperText: string = `A pile of _${ItemKey.Papers}_ with sensitive spreadsheet data sits next to the desk near the shredder. `;\nconst playJob = (actionHeader: string) => {\n    if (!playingJob) { return \"\"; }\n    if (attendedParty && whiteChipTaken) {\n        return \"You have already won the game of Job Simulator!\";\n    }\n    if (filledCoffee && presented && shreddedPaper) {\n        if (!attendedParty) {\n            vr.addItem(ItemKey.RetirementParty, party);\n        }\n        return jobGameHead +\n            `You've done all the tasks! Time to attend your _${ItemKey.RetirementParty}_!`;\n    }\n    if (filledCoffee) {\n        coffeeText = \"There's a full cup of coffee on the desk. \";\n    }\n    if (presented) {\n        computerText = \"The computer screen is off, since you've finished the presentation. \";\n    }\n    if (shreddedPaper) {\n        paperText = \"The desk is clear of any sensitive debris. \";\n    }\n    return actionHeader +\n        jobGameHead +\n        coffeeText +\n        computerText +\n        paperText;\n}\n\nconst fillCoffee = () => {\n    if (filledCoffee) {\n        return \"You've already filled the coffee cup. Find something else to do.\";\n    }\n    filledCoffee = true;\n    return playJob(\"You fill the cup to the rim with virtual Brim!\\n\\n\");\n}\nconst cup = new Item()\n    .setExamine(() => {\n        if (filledCoffee) {\n            return \"It says \\\"I <heart> JOB\\\" on the side of the coffee cup. The cup is full of virtual coffee.\";\n        }\n        return \"It says \\\"I <heart> JOB\\\" on the side of the coffee cup. The cup is empty.\"\n    })\n    .setTakeable(false)\n    .setTake(() => \"You really don't need to take the coffee cup. It's VR, after all.\")\n    .setUse(() => fillCoffee())\n    .on(\"fill\", () => fillCoffee());\nvr.addItem(ItemKey.CoffeeCup, cup);\n\nconst powerdot = new Item()\n    .setExamine(() => {\n        if (presented) {\n            return \"You shut down the computer as soon as it was finished. Please stop trying to create more work for yourself.\";\n        }\n        return \"The presesentation looks like it's going to be spectacular!\";\n    })\n    .setUse(() => {\n        if (presented) {\n            return \"You shut down the computer as soon as the presentation was finished. You're trying to *finish* work, not create more of it...\"\n        }\n        return \"The powerdot presentation is already perfect. You just need to present it!\"\n    })\n    .setTakeable(false)\n    .setTake(() => \"Powerdot is an application on the computer. You have to present it, not take it.\")\n    .on(\"present\", () => {\n        if (presented) {\n            return \"You've already done the presentation, remember? Given your memory, perhaps you should consider retirement...?\";\n        }\n        presented = true;\n        return playJob(\"You present the Powerdot. It goes so well that you think you're in line for a promotion!\\n\\n\");\n    });\nvr.addItem(ItemKey.Powerdot, powerdot);\n\nlet shreddedCount: number = 0;\nconst papers = new Item()\n    .setExamine(() => {\n        if (shreddedPaper) {\n            return \"The papers are nothing but a pile of confetti at this point.\";\n        }\n        return \"The papers are spreadsheet printouts containing all of the financial data from the virtual company!\";\n    })\n    .setTakeable(false)\n    .setTake(() => \"Those papers are too sensitive to take.\")\n    .setUse(() => {\n        if (shreddedPaper && shreddedCount < 5) {\n            return \"You create small piles of virtual confetti. Given there's nothing to celebrate, that's the end of the story for them.\";\n        } else if (shreddedCount === 5) {\n            return \"You cannot use particulate matter, especially the virtual kind.\";\n        }\n        return \"You use one of the papers to make a virtual paper airplane. You throw it, and it falls straight to the virtual ground... next to the shredder. (hint hint)\";\n    })\n    .on(\"shred\", () => {\n        if (shreddedPaper && shreddedCount < 5) {\n            shreddedCount++;\n            return playJob(\"You tear all of the tiny pieces into even tinier pieces.\\n\\n\");\n        } else if (shreddedCount === 5) {\n            return playJob(\"The pieces are now particulate matter. You can't grasp them any more, so the shredding is over.\\n\\n\");\n        }\n        shreddedPaper = true;\n        shreddedCount = 1;\n        return playJob(\"You carefully feed all of the papers into the shredder. It gleefully converts them into tiny pieces.\\n\\n\");\n    });\nvr.addItem(ItemKey.Papers, papers);\n\nlet attendedParty: boolean = false;\nlet whiteChipTaken: boolean = false;\nconst party = new Item()\n    .on(\"attend\", () => {\n        if (attendedParty && whiteChipTaken) {\n            return \"You have already won the game of Job Simulator!\";\n        }\n        if (attendedParty && !whiteChipTaken) {\n            return `The party is over, but the _${ItemKey.WhiteChip}_ remains.`\n        }\n        attendedParty = true;\n        vr.addItem(ItemKey.WhiteChip, whiteChip);\n        return `All of your virtual coworkers attend your party to send you off in style. Your virtual boss digs around in their virtual pocket and presents you with a token of their esteem for all your hard work.\\n\\nYou are presented with what looks like a _${ItemKey.WhiteChip}_.`;\n    });\n\nconst jobGame = new Item()\n    .on(\"play\", () => {\n        playingJob = true;\n        return playJob(\"\");\n    });\nvr.addItem(\"job simulator\", jobGame);\n\nexport const whiteChip = new Item()\n    .setExamine(() => \"The white poker chip looks far more real than it should, given it's supposedly virtual.\")\n    .setTakeable(true)\n    .setTake(() => {\n        whiteChipTaken = true;\n        return \"You inexplicably put the virtual white poker chip into your very real rucksack.\";\n    })","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet mainText = \"The hallway is long and narrow. \"\nlet firepitDoorText = \"On the north wall, a door leads outside to the firepit. \"\nlet ropeText = `A length of frayed _${ItemKey.Rope}_ dangles unobtrusively from the firepit door handle. It looks like it might've been securing the door closed at some point. `\nlet otherExitsText = \"There are also doors to the south and west that lead to bedrooms, and the living room is to the east. \"\n\nconst desc = () => {\n    return mainText +\n    firepitDoorText +\n    ropeText +\n    otherExitsText;\n}\n\nexport const hallway = new Location()\n    .setId(\"Hallway\")\n    .setDesc(desc());\n\nexport const useRope = (gameEngine: GameEngine, robe: Item) => {\n    if (gameEngine.inventoryContains(ItemKey.Robe)) {\n        return \"You're already using the rope to keep the cowskin robe on.\"\n    }\n    if (!gameEngine.inventoryContains(ItemKey.Rope)) {\n        return \"You have to take the rope before you can use it.\";\n    }\n    if (!gameEngine.inventoryContains(ItemKey.Cowskin)) {\n        return \"You tie the rope around your waist. It makes a pretty nice belt. Sorry, I meant \\\"useless\\\"... It makes a pretty useless belt.\";\n    }\n    gameEngine.removeInventoryItem(ItemKey.Rope);\n    gameEngine.removeInventoryItem(ItemKey.Cowskin);\n    gameEngine.currentLocation.addItem(ItemKey.Robe, robe);\n    gameEngine.send(`take ${ItemKey.Robe}`);\n\n    return \"Using the rope, you fashion a robe out of the fine cowskin.\";\n}\n\nlet ropeTaken: boolean = false;\nexport const rope = new Item()\n    .setExamine(() => {\n        let ropeDesc = \"The rope is several feet long and, while frayed at the ends, is otherwise sturdy.\";\n        if (!ropeTaken) {\n            return \"The rope dangles from the door handle unobtrusively. \" + ropeDesc;\n        }\n        return ropeDesc;\n    })\n    .setTakeable(true)\n    .setTake(() => {\n        ropeText = \"\";\n        hallway.setDesc(desc());\n        return \"You put the rope into your rucksack.\"\n    });\nhallway.addItem(ItemKey.Rope, rope);","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from '../areas/itemenums';\n\nlet mainText: string = \"The kitchen is exactly as you left it from the last LBP -- a riot of HEB loot. At least there are no ants! \";\nlet exitText: string = \"\\n\\nTo the east is the dining room, and to the west is the living room.\";\n\nlet snacksTaken: boolean = false;\nlet cupTaken: boolean = false;\nlet limeTaken: boolean = false;\nlet artsApplied: boolean = false;\nconst desc = () => {\n    let counterText: string = \"The counter is, simply put, a treasure trove. \";\n    if (snacksTaken && cupTaken && limeTaken) {\n        counterText = \"The counter is a mess, but you don't feel inspired either to pick over it or clean it. \";\n    } else {\n        if (!snacksTaken) {\n            counterText += `All of your favorite _${ItemKey.Snacks}_ are here. `;\n        }\n        if (!cupTaken) {\n            counterText += `You manage to locate at least a single clean _${ItemKey.Cup}_. `\n        }\n        if (!limeTaken) {\n            counterText += `While the bananas are already gone, there's at least one _${ItemKey.Lime}_ left. `;\n        }\n    }\n\n    let fridgeText: string = `The _${ItemKey.Fridge}_ is covered in arts and crafts, although there is a blank space left. `\n    if (artsApplied) {\n        fridgeText = `The _${ItemKey.Fridge}_ is covered in arts and crafts, including your questionable contribution. `\n    }\n    return mainText  \n        + fridgeText \n        + counterText\n        + exitText;\n}\n\nexport const kitchen = new Location()\n    .setId(\"Kitchen\")\n    .setDesc(desc()); \n\nconst snacks = new Item()\n    .setExamine(() => \"The <YOUR FAVORITE SNACKS> look SO good... It's been a year since you've had them, after all.\")\n    .setTakeable(true)\n    .setTake(() => {\n        snacksTaken = true;\n        kitchen.setDesc(desc());\n        return \"You put the snacks into your rucksack.\"\n    })\n    .setUse(() => \"You <VERB> a(n) <AMOUNT> of <YOUR FAVORITE SNACKS>. SO GOOD!\");\nkitchen.addItem(ItemKey.Snacks, snacks);\n\nexport const cup = new Item()\n    .setExamine(() => \"The cup looks simply perfect for holding a margarita.\")\n    .setTakeable(true)\n    .setTake(() => {\n        cupTaken = true;\n        kitchen.setDesc(desc());\n        return \"You put the cup into your rucksack.\"\n    });\nkitchen.addItem(ItemKey.Cup, cup);\n\nexport const lime = new Item()\n    .setExamine(() => \"The lime looks simply perfect for squeezing into a margarita.\")\n    .setTakeable(true)\n    .setTake(() => {\n        limeTaken = true;\n        kitchen.setDesc(desc());\n        return \"You put the lime into your rucksack.\"\n    });\nkitchen.addItem(ItemKey.Lime, lime);\n\nexport const usePorn = (gameEngine: GameEngine) => {\n    if (gameEngine.currentLocation === kitchen) {\n        artsApplied = true;\n        kitchen.setDesc(desc());\n        gameEngine.removeInventoryItem(ItemKey.Porn);\n        return \"After inspecting the offerings already on the fridge, you attach your copy of \\\"Bovine Boudoir\\\" to the door using the ladybug magnet clip. You swear you hear the fridge sigh as you feel the door loosen.\";\n    }\n    return \"You can't find a use for the porn here.\";\n}\n\nlet earlTaken: boolean = false;\nexport const earl = new Item()\n    .setExamine(() => \"The earl looks delicious, but it should probably be cooked before you eat it.\")\n    .setTakeable(true)\n    .setTake(() => {\n        if (artsApplied) {\n            earlTaken = true;\n            return \"You put the earl into your rucksack.\";\n        }\n        return \"\";\n    })\n    .on(\"eat\", () => \"There is no way you're going to eat that earl uncooked.\");\n\nconst fridge = new Item()\n    .setExamine(() => {\n        let fridgeDesc: string = \"The fridge seems to be holding up alright under the strain of the LBP groceries and arts and crafts. \";\n        if (artsApplied && !earlTaken) {\n            fridgeDesc += `There is an _${ItemKey.Earl}_ inside.`;\n        }\n        return fridgeDesc;\n    })\n    .setUse(() => \"Maybe you should try opening it...?\")\n    .on(\"open\", () => {\n        let fridgeContents: string = \"Opening the fridge, you see a LOT of things better left untouched. \"\n        if (artsApplied) {\n            if (earlTaken) {\n                return fridgeContents;\n            }\n            kitchen.addItem(ItemKey.Earl, earl);\n            return fridgeContents + `The exception is an _${ItemKey.Earl}_. You want that earl. You NEED that earl!`;\n        }\n        return \"You try to open the fridge, but the door won't budge. If only there was something on it to give it a little extra weight. Or decor.\";\n    });\nkitchen.addItem(ItemKey.Fridge, fridge);","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet mainText: string = `This bedroom was dubbed The Undecided Bedroom due to its wall art -- four prints stating 'Yes', 'No', 'Maybe', and 'OK'. A _${ItemKey.UndecidedBookcase}_ is built into one wall, its books arranged by color -- black on the top shelves, and light yellow on the middle. `;\nlet chestText: string = `There's a _${ItemKey.Chest}_ with a fancy lock set against the wall under the four prints. `\nlet exitText: string = \"\\n\\nThe door to the north leads back to the hallway.\"\n\nconst desc = () => {\n    return mainText +\n    chestText + \n    exitText;\n}\nexport const undecidedroom = new Location()\n    .setId(\"Undecided Bedroom\")\n    .setDesc(desc());\n\nlet chestUnlocked: boolean = false;\nlet chestOpen: boolean = false;\nlet okayStatueTaken: boolean = false;\nlet closedText: string = \"The chest is closed.\";\nlet openWithStatue: string = \"The chest is open. Its only interesting content is an oddly placed okay statue.\";\nlet openSansStatue: string = \"The chest is open. It doesn't contain anything interesting.\";\nexport const useOrnateKey = (gameEngine: GameEngine) => {\n    if (gameEngine.currentLocation !== undecidedroom) {\n        return \"You really don't have a use for that here.\";\n    }\n    if (chestUnlocked) {\n        return \"You've already unlocked the chest using the ornate key!\";\n    }\n    gameEngine.removeInventoryItem(ItemKey.OrnateKey);\n    chestUnlocked = true;\n    return \"You use the ornate key to unlock the chest.\";\n}\n\nconst chest = new Item()\n    .setExamine(() => {\n        if (chestOpen && !okayStatueTaken) {\n            return openWithStatue;\n        } else if (chestOpen) {\n            return openSansStatue;\n        }\n        return closedText;\n    })\n    .setTakeable(false)\n    .setTake(() => \"The chest is too large and heavy to take.\")\n    .setUse(() => \"You don't really have a use for the chest, since your rucksack can hold anything you need.\")\n    .on(\"open\", () => {\n        if (chestUnlocked) {\n            chestOpen = true;\n            undecidedroom.addItem(ItemKey.OkayStatue, okayStatue);\n            if (okayStatueTaken) {\n                return \"You open the chest. It is empty of interesting objects.\";\n            }\n            return `You open the chest. A familiar looking _${ItemKey.OkayStatue}_ is inside.`\n        }\n        return \"The chest is locked. Looks like it requires a key.\"\n    })\n    .on(\"close\", () => {\n        if (chestOpen) {\n            chestOpen = false;\n            return \"You close the chest.\";\n        }\n        return \"The chest is already closed.\";\n    });\nundecidedroom.addItem(ItemKey.Chest, chest);\n\nexport const okayStatue = new Item()\n    .setExamine(() => \"This is a small, decorative statue with the pointer finger touching the thumb, gaze-style.\")\n    .setTake(() => \"You put the okay statue into your rucksack.\")\n    .setTakeable(true);\n\nexport const pouch = new Item()\n    .setExamine(() => \"The leather pouch contains a collection of odd looking wiry implements. The nerd in you wonders if they are thieves tools.\")\n    .setTakeable(true)\n    .setTake(() => \"You add the pouch of thieves tools to your rucksack.\");\n\nlet toolsTaken: boolean = false;\nconst readBook = () => {\n    let text: string = \"You open the book to read it, but discover that the pages have been hollowed out. \";\n    if (!toolsTaken) {\n        text += `A leather _${ItemKey.Pouch}_ sits inside the hollowed out area. The pouch appears to hold an old fashioned set of thieves tools.`;\n        undecidedroom.addItem(ItemKey.Pouch, pouch);\n        toolsTaken = true;\n    }\n\n    return text; \n}\n\nconst book = new Item()\n    .setExamine(() => \"The yellow book is laying on its side and is slightly larger than any of the other books in the bookcase.\")\n    .setTakeable(false)\n    .setTake(() => \"Nope.\")\n    .setUse(() => \"\\\"Use\\\" the book...? What does one normally do with books?\")\n    .on(\"read\", () => readBook());\n\nconst bookcase = new Item()\n    .setExamine(() => {\n        undecidedroom.addItem(ItemKey.UndecidedBook, book);\n        return `The bookcase has a bunch of books on it, but only the _${ItemKey.UndecidedBook}_ looks like it might be worth reading.`\n    })\n    .setTakeable(false)\n    .setTake(() => \"The bookcase is built into the wall. You aren't going to be able to take it.\");\n\nundecidedroom.addItem(ItemKey.UndecidedBookcase, bookcase);","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet mainText: string = \"The bunkhouse is as warm and inviting as ever, with a special emphasis on 'warm.' \";\nlet cabinetText: string = `The well-worn _${ItemKey.Cupboard}_ in the kitchenette looks like it's recently had some doors installed. `;\nlet fishText: string = `A poorly-taxidermied _${ItemKey.Fish}_ adorns the wall. `;\nlet exitText: string = \"\\n\\nThe pool is to your west.\"\n\nconst desc = () => {\n    return mainText +\n    cabinetText +\n    fishText +\n    exitText;\n}\n\nexport const bunkhouse = new Location()\n    .setId(\"Bunkhouse\")\n    .setDesc(desc());\n\nexport const fish = new Item()\n    .setExamine(() => \"The fish gapes at you, open-mouthed and glassy-eyed, as if it were still gasping for water.\")\n    .setTakeable(true)\n    .setTake(() => {\n        fishText = \"\";\n        bunkhouse.setDesc(desc());\n        return \"You put the fish into your rucksack.\"\n    });\n\nlet cupboardUnlocked: boolean = false;\nlet cupboardOpen: boolean = false;\nlet peaceStatueTaken: boolean = false;\nlet closedText: string = \"The cupboard is closed.\";\nlet openWithStatue: string = \"The cupboard is open. Its only interesting content is an oddly placed _peace statue_.\";\nlet openSansStatue: string = \"The cupboard is open. It doesn't contain anything interesting.\";\n\nexport const peaceStatue = new Item()\n    .setExamine(() => \"This is a small, decorative statue with two fingers up, peace-style.\")\n    .setTake(() => {\n        peaceStatueTaken = true;\n        return \"You put the peace statue in your rucksack.\"\n    })\n    .setTakeable(true);\n\nexport const useCupboardKey = (gameEngine: GameEngine) => {\n    if (gameEngine.currentLocation === bunkhouse) {\n        cupboardUnlocked = true;\n        gameEngine.removeInventoryItem(ItemKey.CupboardKey);\n        return \"You use the cupboard key to unlock the cupboard.\";\n    }\n    return \"This doesn't look like the right place to use the cupboard key.\";\n}\n\nconst cupboard = new Item()\n    .setExamine(() => {\n        if (cupboardOpen && !peaceStatueTaken) {\n            return openWithStatue;\n        } else if (cupboardOpen) {\n            return openSansStatue;\n        }\n        return closedText;\n    })\n    .setTakeable(false)\n    .setTake(() => \"The cupboard is firmly attached to the wall, sorry.\")\n    .setUse(() => \"You don't really have a use for the cupboard.\")\n    .on(\"open\", () => {\n        if (cupboardUnlocked) {\n            cupboardOpen = true;\n            bunkhouse.addItem(ItemKey.PeaceStatue, peaceStatue);\n            if (peaceStatueTaken) {\n                return \"You open the cupboard. Nothing interesting is inside.\";\n            }\n            return `You open the cupboard. A familiar looking _${ItemKey.PeaceStatue}_ is inside.`;\n        }\n        return \"The cupboard is locked. Looks like it requires a key.\"\n    })\n    .on(\"close\", () => {\n        if (cupboardOpen) {\n            cupboardOpen = false;\n            return \"You close the cupboard.\";\n        }\n        return \"The cupboard is already closed.\";\n    });\n\nbunkhouse.addItem(ItemKey.Fish, fish);\nbunkhouse.addItem(ItemKey.Cupboard, cupboard);\n","import Location from '../engine/Location';\nimport GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nlet doorUnlocked: boolean = false;\nconst desc = () => {\n    let text: string = \"You are outside the garage. \";\n    let lockedText: string = `The ${ItemKey.GarageDoor} is firmly closed and locked, preventing entry. `;\n    let exitText: string = \"\\n\\nThe pool is to your northwest. \";\n    if (doorUnlocked) {\n        lockedText = `The _${ItemKey.GarageDoor}_ was locked, but has recently been expertly unlocked without using a key. `;\n        exitText += `You can also go through the garage _${ItemKey.GarageDoor}_ to see what's inside. `;\n    }\n    return text\n        + lockedText\n        + exitText;\n}\nexport const garage = new Location()\n    .setId(\"Garage\")\n    .setDesc(desc()); \n\nexport const useTools = (gameEngine: GameEngine, linkInsideGarage: () => void) => {\n    if (gameEngine.currentLocation !== garage) {\n        return \"It doesn't look like you can use that here.\";\n    }\n    if (doorUnlocked) {\n        return `You've already unlocked the ${ItemKey.GarageDoor}. You just need to go through it.`;\n    }\n    if (!gameEngine.inventoryContains(ItemKey.Thievery)) {\n        return \"You have no idea how to use thieves tools!\";\n    }\n    doorUnlocked = true;\n    linkInsideGarage();\n    garage.setDesc(desc());\n    return `Using your knowledge of thievery, you pick the lock to the garage using the thieves tools. The _${ItemKey.GarageDoor}_ is now open -- you just have to go through it.`;\n}","import GameEngine from '../engine/GameEngine';\nimport ItemKey from './itemenums';\n\nimport Courtyard from './Courtyard';\n\nimport {livingroom,\n    headset,\n    useHeadset,\n    removeHeadset,\n    porn,\n    horn} from './livingroom';\n\nimport {vr,\n    whiteChip} from './vr'\n\nimport {bar,\n    useLime,\n    marg,\n    takeMarg,\n    greenChip,\n    useCup,\n    drinkMarg} from './bar';\n\nimport {hallway, \n    rope, \n    useRope} from './hallway'\n\nimport {undecidedroom\n    , useOrnateKey\n    , okayStatue\n    , pouch} from './undecidedroom';\n\nimport {rugroom, \n    thumbStatue, \n    cowskin, \n    wearCowskin, \n    deerHead, \n    breakDeerhead,\n    book,\n    readBook,\n    ornateKey} from './rugroom';\n\nimport {firepit,\n    pit,\n    usePit,\n    useEarlAndHorn,\n    skeweredEarl,\n    roastSkeweredEarl,\n    redChip} from './firepit';\n\nimport {kitchen, \n    usePorn,\n    lime,\n    cup,\n    earl} from './kitchen';\n\nimport {diningroom, \n    placeThumb, \n    placePeace, \n    placeOkay,\n    blackChip} from './diningroom';\n\nimport {pooleast, \n    useFish, \n    cupboardKey} from './pooleast';\n\nimport {poolwest,\n    pool, \n    usePool,\n    blueChip} from './poolwest';\n\nimport {backyard, feedMeter} from './backyard';\n\nimport Tent from './Tent';\n\nimport {bunkhouse, \n    useCupboardKey, \n    fish, \n    peaceStatue} from './bunkhouse';\n\nimport {garage, useTools} from './garage';\n\nimport {insidegarage, snorkel} from './insidegarage';\n\nimport {robe} from './notspecified';\n\n/*\nsnacks?\n*/\n\n// location wiring\nbar\n    .link(\"sw\", livingroom)\n    .setOnEnter(() => tagIt(\"bar\"));\n\nkitchen\n    .link(\"w\", livingroom)\n    .link(\"e\", diningroom)\n    .setOnEnter(() => tagIt(\"kitchen\"));\n\ndiningroom\n    .link(\"w\", kitchen)\n    .link(\"n\", pooleast)\n    .setOnEnter(() => tagIt(\"diningroom\"));\n\nhallway\n    .link(\"e\", livingroom)\n    .link(\"s\", undecidedroom)\n    .link(\"w\", rugroom)\n    .link(\"n\", firepit)\n    .setOnEnter(() => tagIt(\"hallway\"));\n\nundecidedroom\n    .link(\"n\", hallway)\n    .setOnEnter(() => tagIt(\"undecidedroom\"));\n\nrugroom\n    .link(\"e\", hallway)\n    .setOnEnter(() => tagIt(\"rugroom\"));\n\nfirepit\n    .link(\"s\", hallway)\n    .link(\"e\", poolwest)\n    .setOnEnter(() => tagIt(\"firepit\"));\n\npoolwest\n    .link(\"ne\", backyard)\n    .link(\"e\", pooleast)\n    .link(\"w\", firepit)\n    .setOnEnter(() => tagIt(\"poolwest\"));\n\npooleast\n    .link(\"w\", poolwest)\n    .link(\"nw\", backyard)\n    .link(\"s\", diningroom)\n    .link(\"e\", bunkhouse)\n    .link(\"se\", garage)\n    .setOnEnter(() => tagIt(\"pooleast\"));\n\nbackyard\n    .link(\"se\", pooleast)\n    .link(\"sw\", poolwest)\n    .setOnEnter(() => tagIt(\"backyard\"));\n\n\nbunkhouse\n    .link(\"w\", pooleast)\n    .setOnEnter(() => tagIt(\"bunkhouse\"));\n\ngarage\n    .link(\"nw\", pooleast)\n    .setOnEnter(() => tagIt(\"garage\"));\n\ninsidegarage\n    .link(`through ${ItemKey.GarageDoor}`, garage)\n    .setOnEnter(() => tagIt(\"insidegarage\"));\n\n// item wiring\nheadset\n    .setUse(() => useHeadset(gameEngine, headset, vr))\n    .on(\"remove\", () => removeHeadset(gameEngine, headset));\n\nporn.setUse(() => usePorn(gameEngine));\nhorn.setUse(() => useEarlAndHorn(gameEngine, ItemKey.DeerHorn));\n\nearl.setUse(() => useEarlAndHorn(gameEngine, ItemKey.Earl));\ncup.setUse(() => useCup(gameEngine));\nlime.setUse(() => useLime(gameEngine));\nmarg\n    .setUse(() => takeMarg(gameEngine))\n    .setTake(() => takeMarg(gameEngine))\n    .on(\"drink\", () => drinkMarg(gameEngine));\n\nfish.setUse(() => useFish(gameEngine));\ncupboardKey.setUse(() => useCupboardKey(gameEngine));\n\nrope.setUse(() => useRope(gameEngine, robe));\ncowskin.on(\"wear\", () => wearCowskin(gameEngine, robe));\n\ndeerHead\n    .on(\"break\", () => breakDeerhead(gameEngine))\n    .on(\"drop\", () => breakDeerhead(gameEngine))\n    .on(\"smash\", () => breakDeerhead(gameEngine))\n    .on(\"throw\", () => breakDeerhead(gameEngine))\n    .on(\"destroy\", () => breakDeerhead(gameEngine));\nbook.on(\"read\", () => readBook(gameEngine));\n\nornateKey.setUse(() => useOrnateKey(gameEngine));\npouch.setUse(() => useTools(gameEngine, linkInsideGarage));\nconst linkInsideGarage = () => {\n    garage.link(`through ${ItemKey.GarageDoor}`, insidegarage);\n}\n\npit.setUse(() => usePit(gameEngine));\nskeweredEarl\n    .setUse(() => roastSkeweredEarl(gameEngine))\n    .on(\"roast\", () => roastSkeweredEarl(gameEngine));\n\npool.setUse(() => usePool(gameEngine))\n    .on(\"swim in\", () => usePool(gameEngine));\nsnorkel.setUse(() => usePool(gameEngine));\n\nthumbStatue.setUse(() => placeThumb(gameEngine, thumbStatue));\npeaceStatue.setUse(() => placePeace(gameEngine, peaceStatue));\nokayStatue.setUse(() => placeOkay(gameEngine, okayStatue));\n\nconst startTime = new Date();\nconst timeDiffInSeconds = (): number => {\n    return Math.floor((new Date().getTime() - startTime.getTime()) / 1000);\n}\n\nconst gtag: (a: any, b:any, c:any) => void = (global as any).gtag;\nconst tagIt = (action: string) =>\n    !!gtag && gtag('event', action, {\n        event_category: 'game',\n        event_label: new Date().toUTCString(),\n        value: timeDiffInSeconds(),\n    });\n\nconst courtyard = new Courtyard(tagIt);\nconst gameEngine = new GameEngine(courtyard);\ngameEngine.setStartLocation(courtyard);\n\ncourtyard\n    .link(\"n\", livingroom)\n    .link(\"through door\", livingroom);\n\nlivingroom\n    .link(\"s\", courtyard)\n    .link(\"ne\", bar)\n    .link(\"e\", kitchen)\n    .link(\"w\", hallway)\n    .link(\"through door\", courtyard)\n    .setOnEnter(() => tagIt(\"livingroom\"));\n\n\nconst tent = new Tent(gameEngine, tagIt);\ntent.link(\"through flap\", backyard);\nblackChip.setUse(() => feedMeter(gameEngine, blackChip, tent));\nredChip.setUse(() => feedMeter(gameEngine, redChip, tent));\nblueChip.setUse(() => feedMeter(gameEngine, blueChip, tent));\ngreenChip.setUse(() => feedMeter(gameEngine, greenChip, tent));\nwhiteChip.setUse(() => feedMeter(gameEngine, whiteChip, tent));\ncourtyard.coin.setUse(() => tent.useCoin());\n\n// HACK ZONE\n// backyard.addItem(\"coin\", coin);\n// backyard.addItem(\"black\", blackChip);\n// backyard.addItem(\"blue\", blueChip);\n// backyard.addItem(\"green\", greenChip);\n// backyard.addItem(\"red\", redChip);\n// backyard.addItem(\"white\", whiteChip);\n// gameEngine.send(\"n\");\n// gameEngine.send(\"e\");\n// gameEngine.send(\"e\");\n// gameEngine.send(\"n\");\n// gameEngine.send(\"nw\");\n// gameEngine.send(\"use black\");\n// gameEngine.send(\"use blue\");\n// gameEngine.send(\"use green\");\n// gameEngine.send(\"use red\");\n// gameEngine.send(\"use white\");\n// gameEngine.send(\"take coin\");\n// gameEngine.send(\"go through flap\");\n// END HACK ZONE\n\ntagIt(\"start\");\n\nexport default gameEngine;","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport ItemKey from './itemenums';\n\nexport const insidegarage = new Location()\n    .setId(\"Inside the Garage\")\n    .setDesc(`You are inside the garage. The space is littered with the trappings of tools of a lawn long neglected. You notice a _${ItemKey.Kayak}_ perched precariously atop a broken down ATV.` \n    + \"\\n\\nThe only exit is back through the door.\");\n\nlet snorkelTaken: boolean = false;\nexport const snorkel = new Item()\n    .setExamine(() => \"The snorkel has a fully intact face mask, although the breathing tube looks questionable.\")\n    .setTakeable(true)\n    .setTake(() => {\n        snorkelTaken = true;\n        return \"You put the snorkel into your rucksack.\"\n    });\ninsidegarage.addItem(ItemKey.Snorkel, snorkel);\n\nconst kayak = new Item()\n    .setExamine(() => {\n        let text: string = \"The kayak is sunflare orange and might even stay afloat in water.\";\n        if (!snorkelTaken) {\n            text += `There appears to be a _${ItemKey.Snorkel}_ stuffed into the kayak's seat.`;\n        }\n        return text; \n    })\n    .setTakeable(false)\n    .setTake(() => \"You heave a bit, but quickly realize that getting the kayak is a two-person job.\")\n    .setUse(() => \"There are no rivers in this game, and we all know that the pool is no place for a kayak.\");\ninsidegarage.addItem(ItemKey.Kayak, kayak);","import Item from \"../engine/Item\";\n\nexport const robe = new Item()\n    .setExamine(() => \"The cowskin robe, cinched securely around your waist with the frayed rope, looks great and feels even better. It offers some protection from the elements.\")\n    .setTakeable(true)\n    .setTake(() => \"\");","import Location from '../engine/Location';\nimport Item from '../engine/Item';\nimport ItemKey from './itemenums';\n\nclass Courtyard extends Location {\n    public coin = new Item()\n        .setExamine(() => \"The coin is a currency you don't recognize, but appears to be made of a copper/nickel mix and is about the size of a half dollar.\")\n        .setTake(() => {\n            this.fountain.setExamine(() => \"The fountain gurgles sporatically.\");\n            return \"You snatch the coin from the fountain bowl, drying it and your hands on your shirt, then put the coin into your rucksack.\";\n        })\n        .setTakeable(true);\n\n    private fountain = new Item()\n        .setExamine(() => {\n            this.addItem(ItemKey.Coin, this.coin);\n            return `The fountain gurgles sporatially, but the water is clear enough to make you aware of something glittering at the bottom of its bowl. It looks like a _${ItemKey.Coin}_ of some kind.`;\n        })\n        .setTake(() => \"The fountain is fixed in place, and even if you could move it, probably wouldn't fit in your rucksack.\")\n        .setUse(() => \"You consider sipping from the fountain's lukewarm water, but think better of it, given what everyone else does in the pool...\");\n\n    private noteText: string = \"The note says: (in a hastily/messily scrawled pen)\"\n    + \"\\n\\nGreetings, fellow LBPer! The door's open. We're all in the tent out back. See you there!\"\n    + \"\\n\\n(there is no signature)\";\n\n    private note = new Item()\n        .setExamine(() => this.noteText)\n        .setTake(() => \"You realize that you should leave this here for anyone that arrives after you.\")\n        .setTakeable(false)\n        .setUse(() => \"You use the hell out of that note.\")\n        .on(\"read\", () => this.noteText);\n\n    public constructor(tagIt: (action: string) => void) {\n        super();\n        this.setId(\"Courtyard\");\n        this.setDesc(`You are in the courtyard of Casa Cantera. You can almost feel the rosemary pollen coat your lightly sweating skin as you listen to the sounds of tepid water trickling through the barely-functioning _${ItemKey.Fountain}_.\\n\\nTo the north is the door into the Casa. There appears to be a _${ItemKey.Note}_ taped to it.`);\n        this.addItem(\"fountain\", this.fountain);\n        this.addItem(\"note\", this.note);\n        this.setOnEnter(() => tagIt(\"courtyard\"));\n    }\n}\n\nexport default Courtyard;","import Location from '../engine/Location';\nimport GameEngine from '../engine/GameEngine';\n\nclass Tent extends Location {\n    private gameEngine: GameEngine;\n\n    public constructor(gameEngine: GameEngine, tagIt: (action: string) => void) {\n        super();\n        this.gameEngine = gameEngine;\n        this.setId(\"Inside the Tent\");\n        this.setDesc(\"\\\"There you are! Finally!\\\" everyone exclaims. \\\"Ready to play? Where's your buy in?\\\"\" \n    + \"\\n\\nYou can leave by way of the flap.\");\n        this.setOnEnter(() => tagIt(\"tent\"));\n    }\n\n    public useCoin(): string {\n        if (this.gameEngine.currentLocation !== this) {\n            return \"You can't find a use for the coin here.\";\n        }\n\n        return \"You use your coin to buy into the poker game.\"\n            + \"\\n\\nTime passes...\"\n            + \"\\n\\nSome time just before the end of the weekend, having successfully looked at no one's cards, including your own, you become this year's tournament winner!\"\n            + \"\\n\\nThe chief is yours! YOU HAVE WON ALL THE THINGS in:\"\n            + \"\\n\\n*** \" + this.gameEngine.actionCount + \" moves! ***\"\n            + \"\\n\\nThus ends your LBPQuest. WELL DONE! See you next year!\"\n    }\n}\n\nexport default Tent;","// TODO: add DROP\nexport class CommandType {\n    public static values: CommandType[] = [];\n\n    public static readonly N = new CommandType(\"N\");\n    public static readonly S = new CommandType(\"S\");\n    public static readonly E = new CommandType(\"E\");\n    public static readonly W = new CommandType(\"W\");\n    public static readonly NE = new CommandType(\"NE\");\n    public static readonly NW = new CommandType(\"NW\");\n    public static readonly SE = new CommandType(\"SE\");\n    public static readonly SW = new CommandType(\"SW\");\n\n    public static readonly GO = new CommandType(\"GO\");\n    public static readonly TAKE = new CommandType('TAKE');\n    public static readonly INVENTORY = new CommandType('INVENTORY');\n    public static readonly USE = new CommandType('USE');\n    public static readonly LOOK = new CommandType('LOOK');\n    public static readonly EXAMINE = new CommandType('EXAMINE');\n    public static readonly HELP = new CommandType('HELP');\n\n    private constructor(public readonly name: string) {\n        CommandType.values.push(this);\n    }\n}","import { CommandType } from './Command';\nimport {\n    GameErrorEvent,\n    GameEvent,\n    HelpEvent,\n    InventoryEvent,\n    ItemEvent,\n    LocationChangeEvent,\n    NewInputEvent,\n} from './Event';\nimport { GameError } from './GameError';\nimport Item from './Item';\nimport Location from './Location';\n\nclass GameEngine {\n    public currentLocation: Location;\n    public actionCount: number;\n\n    private inventory: Map<string, Item>;\n    private events: GameEvent[];\n\n    constructor(location: Location) {\n        this.currentLocation = location;\n        this.events = [];\n        this.inventory = new Map();\n        this.actionCount = 0;\n    }\n\n    public setStartLocation(location: Location): GameEngine {\n        this.changeLocation(location);\n        return this;\n    }\n\n    public getEvents(): GameEvent[] {\n        return this.events;\n    }\n\n    private move(direction: string) {\n        const maybeNewLocation = this.currentLocation.locations.get(direction);\n        if (maybeNewLocation) {\n            if (!maybeNewLocation.entered) {\n                maybeNewLocation.entered = true;\n                maybeNewLocation.onEnter();\n            }\n            this.changeLocation(maybeNewLocation);\n        } else {\n            this.events.push(\n                new GameErrorEvent(GameError.INVALID_PATH)\n            );\n        }\n    }\n\n    public send(input: string) {\n        this.actionCount++;\n        const lowerInput = input.toLowerCase().trim();\n        const inputSplit = lowerInput.split(\" \");\n        const cmdText = inputSplit.shift();\n        const cmd = CommandType.values.find(type =>\n            cmdText === type.name.toLowerCase()\n        );\n        const rest = lowerInput.substr(!!cmd ? cmd.name.length + 1 : 0);\n\n        this.events.push(new NewInputEvent(input));\n        switch (cmd) {\n            case CommandType.N:\n            case CommandType.S: \n            case CommandType.E: \n            case CommandType.W: \n            case CommandType.NE: \n            case CommandType.NW: \n            case CommandType.SE: \n            case CommandType.SW: { \n                this.move(lowerInput);\n                break;\n            }\n\n            case CommandType.GO: {\n                this.move(rest);\n                break;\n            }\n\n            case CommandType.TAKE: {\n                const itemName = rest;\n                const maybeItem = this.currentLocation.items.get(itemName);\n                if (maybeItem) {\n                    if (maybeItem.takeable) {\n                        this.inventory.set(itemName, maybeItem);\n                        this.currentLocation.removeItem(itemName);\n                    }\n                    this.events.push(new ItemEvent(maybeItem.take()));\n                } else {\n                    this.events.push(new GameErrorEvent(GameError.NO_ITEM));\n                }\n                break;\n            }\n\n            case CommandType.USE: {\n                const maybeItem = this.getItem(rest);\n                if (maybeItem) {\n                    this.events.push(new ItemEvent(maybeItem.use()));\n                } else {\n                    this.events.push(new GameErrorEvent(GameError.NO_ITEM));\n                }\n\n                break;\n            }\n\n            case CommandType.EXAMINE: {\n                const maybeItem = this.getItem(rest);\n                if (maybeItem) {\n                    this.events.push(new ItemEvent(maybeItem.examine()));\n                } else {\n                    this.events.push(new GameErrorEvent(GameError.NO_ITEM));\n                }\n\n                break;\n            }\n\n            case CommandType.LOOK: {\n                this.changeLocation(this.currentLocation);\n                break;\n            }\n\n            case CommandType.INVENTORY: {\n                this.events.push(\n                    new InventoryEvent(Array.from(this.inventory.keys()))\n                );\n                break;\n            }\n\n            case CommandType.HELP: {\n                const commands = CommandType.values.map(type => type.name);\n                this.events.push(new HelpEvent(commands));\n                break;\n            }\n\n            default: {\n                // figure out if there is a custom cmd instead\n                const itemName = Array.from(this.currentLocation.items.keys())\n                    .concat(Array.from(this.inventory.keys()))\n                    .find(item => input.endsWith(item));\n\n                const maybeItem = this.getItem(itemName);\n                if (!!itemName && !!maybeItem) {\n                    const maybeCustomCmd = lowerInput.substr(\n                        0,\n                        input.length - (itemName.length + 1)\n                    );\n                    const maybeFunc = maybeItem.customCommands.get(\n                        maybeCustomCmd\n                    );\n                    if (maybeFunc) {\n                        this.events.push(new ItemEvent(maybeFunc()));\n                    } else {\n                        this.events.push(\n                            new GameErrorEvent(GameError.UNKNOWN_COMMAND)\n                        );\n                    }\n                } else {\n                    this.events.push(\n                        new GameErrorEvent(GameError.UNKNOWN_COMMAND)\n                    );\n                }\n                break;\n            }\n        }\n    }\n\n    public removeInventoryItem(itemName: string) {\n        this.inventory.delete(itemName.toLowerCase());\n    }\n\n    public inventoryContains(itemName: string): boolean {\n        return this.inventory.has(itemName);\n    }\n\n    private getItem(itemName: string | undefined): Item | undefined {\n        if (!!itemName) {\n            const locationItem = this.currentLocation.items.get(itemName);\n            if (!locationItem) {\n                return this.inventory.get(itemName);\n            }\n            return locationItem;\n        } else {\n            return undefined;\n        }\n    }\n\n    private changeLocation(location: Location): GameEngine {\n        this.currentLocation = location;\n        this.events.push(\n            new LocationChangeEvent(\n                location.id,\n                location.description\n            )\n        );\n        return this;\n    }\n}\n\nexport default GameEngine;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as React from 'react';\n\ninterface TextViewProps {\n    text: string;\n}\n\nfunction TextView(props: TextViewProps) {\n    if (props.text.startsWith('http')) {\n        return <a href={props.text}>{props.text}</a>;\n    }\n\n    const lines = props.text\n        .split('\\n')\n        .map((line, index) => <p key={index}>{line}</p>);\n    return <>{lines}</>;\n}\n\nexport default TextView;\n","import * as React from 'react';\nimport Text from './TextView';\n\ninterface CommandProps {\n    orignalCommand: string;\n}\n\nfunction Command(props: CommandProps) {\n    return (\n        <div className=\"command\"\n             role=\"textbox\"\n             aria-label={`${props.orignalCommand}`}>\n            <Text text={`> ${props.orignalCommand}`} />\n        </div>\n    );\n}\n\nexport default Command;\n","import * as React from 'react';\nimport { GameError } from '../engine/GameError';\nimport Text from './TextView';\n\ninterface ErrorViewProps {\n    error: GameError;\n}\n\nconst unknowns: string[] = [\n    \"Uh, I'm not quite sure what you're trying to do...\"\n    , \"Is that even legal in this state?\"\n    , \"Please try to take your quest a little more seriously.\"\n    , \"Why do I even bother to prompt you?\"\n    , \"<narrator>It turned out that the input was unparseable. At all.</narrator>\"\n    , \"Nope, no idea what that means.\"\n    , \"STOP LOOKING AT MY CARDS!\"\n    , \"Oh, is it time to start Rounders? Enter relevant words.\"\n    , \"Exasperation. The look on my face is... exasperation. Do things better.\"\n    , \"Perhaps you should try rephrasing that input...\"\n    , \"No, seriously -- type in things that are likely to work.\"\n    , \"I'm sure I could figure out what you intended... eventually. In the meantime:\"\n    , \"Yes, this is a random response to irrelevant input. Please type something else.\"\n    , \"Sorry, I was distracted with... something. Other input, please.\"\n    , \"In this game, we have to use our words. Or type them. And they should (sort of) make sense.\"\n    , \"Aw, that's sweet! I love it! But I still need you to type things that will move us forward. Together.\"\n    , \"That's a Man Down kind-of statement if I've ever heard one!\"\n    , \"I can't go for that. No, no... No can do.\"\n    , \"Sorry, was that you typing, or the drum machine/Garner laughing? Other words, please.\"\n    , \"Run away! RUN AWAY! Or type something meaningful.\"\n];\n\nfunction errorMessage(error: GameError): string {\n    switch (error) {\n        case GameError.INVALID_PATH:\n            return \"There is no path there.\";\n        case GameError.UNKNOWN_COMMAND:\n            return unknowns[Math.floor(Math.random() * unknowns.length)]\n            + \"\\n\\nFor a list of common commands, type HELP.\";\n        case GameError.NO_ITEM:\n            return \"Invalid command. There is no item there.\";\n    }\n}\n\nfunction ErrorView(props: ErrorViewProps) {\n    return (\n        <div className=\"error\">\n            <Text text={errorMessage(props.error)} />\n        </div>\n    );\n}\n\nexport default ErrorView;\n","import * as React from 'react';\n\nconst helpMapper: { [s: string]: string; } = {\n    GO: ' <SOMEWHERE> : e.g. `go through door` to move somewhere other than cardinal or ordinal directions',\n    HELP: ' : shows this help text',\n    INVENTORY: ' : lists the items in your rucksack',\n    EXAMINE: ' <OBJECT> : e.g. `examine sword` to take a closer look at the sword',\n    LOOK: ' : describes the area which you are currently in',\n    TAKE: ' <OBJECT> : e.g. `take sword` to add an item to your rucksack',\n    USE: ' <OBJECT> : e.g. `use sword` to activate an item'\n};\n\ninterface HelpViewProps {\n    visibleCommand: string[];\n}\n\nfunction HelpView(props: HelpViewProps) {\n    const helpBlock = props.visibleCommand.map(command => (\n        <div key={command} className=\"command-block\">\n            <div className=\"command-block-key\">{command}</div>\n            <div className=\"command-block-tip\">{helpMapper[command]}</div>\n        </div>\n    ));\n\n    return (\n        <div className=\"help\">\n            <div className=\"help-description\">\n                These are the default commands and will be most used:\n            </div>\n            <br />\n            {helpBlock}\n            <br />\n            <div className=\"help-description\">\n                But there may be more hidden commands available. Use \"logic\" to figure it out!\n                <br/>\n                <br/>\n                Also, words surrounded by \"_\" are typically interactable somehow. There, I've pretty much given away the entire game. You're welcome.\n            </div>\n        </div>\n    );\n}\n\nexport default HelpView;","import * as React from 'react';\n\ninterface InventoryViewProps {\n    items: string[];\n}\n\nfunction inventoryString(items: string[]): string {\n    if (items.length === 0) {\n        return 'Your inventory is empty.';\n    }\n    return 'Your inventory contains: ' + items.join(', ');\n}\n\nfunction InventoryView(props: InventoryViewProps) {\n    return <div className=\"inventory\">{inventoryString(props.items)}</div>;\n}\n\nexport default InventoryView;\n","import * as React from 'react';\nimport TextView from './TextView';\n\ninterface ItemViewProps {\n    text: string;\n}\n\nfunction ItemView(props: ItemViewProps) {\n    return (\n        <div className=\"item\">\n            <TextView text={props.text} />\n        </div>\n    );\n}\n\nexport default ItemView;\n","import * as React from 'react';\nimport Text from './TextView';\n\ninterface LocationViewProps {\n    id: string;\n    description: string;\n}\n\nfunction LocationView(props: LocationViewProps) {\n    return (\n        <div className=\"location\">\n            <h1 className=\"title\"\n                aria-label={`title: ${props.id}`}\n            >--- {props.id} ---</h1>\n            <div className=\"description\">\n                <Text text={props.description} />\n            </div>\n        </div>\n    );\n}\n\nexport default LocationView;\n","import * as React from 'react';\nimport { GameEvent, GameEventType } from '../engine/Event';\nimport CommandView from './CommandView';\nimport ErrorView from './ErrorView';\nimport HelpView from './HelpView';\nimport Inventory from './InventoryView';\nimport Item from './ItemView';\nimport LocationView from './LocationView';\n\ninterface EventsViewProps {\n    events: GameEvent[];\n}\n\nclass EventsView extends React.Component<EventsViewProps, any> {\n    private eventEnd!: HTMLDivElement;\n\n    constructor(props: any) {\n        super(props);\n        this.scrollToBottom = this.scrollToBottom.bind(this);\n    }\n\n    public scrollToBottom() {\n        this.eventEnd.scrollIntoView();\n    }\n\n    public componentDidMount() {\n        this.scrollToBottom();\n        window.addEventListener('resize', this.scrollToBottom, false);\n    }\n\n    public componentDidUpdate() {\n        this.scrollToBottom();\n    }\n\n    public componentWillUnmount() {\n        this.scrollToBottom();\n        window.removeEventListener('resize', this.scrollToBottom, false);\n    }\n\n    public render() {\n        return (\n            <div className=\"events-container\">\n                <div className=\"events\"\n                     aria-live=\"polite\"\n                     aria-relevant=\"additions\"\n                     aria-atomic=\"false\">\n                    {this.props.events.map((event, index) => {\n                        switch (event.type) {\n                            case GameEventType.NEW_INPUT: {\n                                return (\n                                    <CommandView\n                                        key={index}\n                                        orignalCommand={event.input}\n                                    />\n                                );\n                            }\n\n                            case GameEventType.LOCATION_CHANGE: {\n                                return (\n                                    <LocationView\n                                        key={index}\n                                        id={event.title}\n                                        description={event.description}\n                                    />\n                                );\n                            }\n\n                            case GameEventType.ITEM: {\n                                return (\n                                    <Item key={index} text={event.customText} />\n                                );\n                            }\n\n                            case GameEventType.INVENTORY: {\n                                return (\n                                    <Inventory\n                                        key={index}\n                                        items={event.items}\n                                    />\n                                );\n                            }\n\n                            case GameEventType.HELP: {\n                                return (\n                                    <HelpView\n                                        key={index}\n                                        visibleCommand={event.avaibleCommands}\n                                    />\n                                );\n                            }\n                            case GameEventType.ERROR: {\n                                return (\n                                    <ErrorView\n                                        key={index}\n                                        error={event.errorType}\n                                    />\n                                );\n                            }\n                        }\n                    })}\n                    <div\n                        style={{ float: 'left', clear: 'both' }}\n                        ref={(el: HTMLDivElement) => {\n                            this.eventEnd = el;\n                        }}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default EventsView;\n","import * as React from 'react';\nimport {KeyboardEvent} from \"react\";\nimport {GameEvent, GameEventType, NewInputEvent} from \"./engine/Event\"\nimport GameArea from './areas/main';\nimport GameView from \"./view/EventsView\";\n\ninterface AppState {\n    events: GameEvent[]\n    lastInputPointer: number\n}\n\nclass Game extends React.Component<any, AppState> {\n    private nameInput!: HTMLInputElement;\n\n    constructor(props: any) {\n        super(props);\n        this.onBlur = this.onBlur.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.state = {\n            events: GameArea.getEvents(),\n            lastInputPointer: 0\n        };\n    }\n\n    public onBlur() {\n        setTimeout(() => this.nameInput.focus(), 0);\n    }\n\n    public handleKeyDown(event: KeyboardEvent<HTMLInputElement>) {\n        if (event.key === 'Enter' && this.nameInput.value.length !== 0) {\n            GameArea.send(this.nameInput.value);\n            this.setState({\n                events: GameArea.getEvents(),\n                lastInputPointer: 0\n            });\n            this.nameInput.value = \"\";\n        }\n        else if (event.key === 'ArrowUp') {\n            event.preventDefault();\n            this.nameInput.value = this.getHistoryInput(this.state.lastInputPointer - 1);\n        }\n        else if (event.key === 'ArrowDown') {\n            event.preventDefault();\n            this.nameInput.value = this.getHistoryInput(this.state.lastInputPointer + 1);\n        }\n    }\n\n    public render() {\n        return (\n            <div id=\"game-content\">\n                <GameView events={this.state.events} />\n                \n                <span id=\"input\">\n                    <div id=\"input-tag\">{'> '}</div>\n                    <input id=\"input-element\"\n                           aria-label=\"Input your game commands here\"\n                           ref={(input: HTMLInputElement) => {\n                               this.nameInput = input;\n                           }}\n                           autoFocus={true}\n                           onBlur={this.onBlur}\n                           onKeyDown={this.handleKeyDown}\n                    />\n                </span>\n            </div>\n        );\n    }\n\n    public componentDidMount(){\n        document.addEventListener('mousedown', this.onBlur);\n    }\n\n    private getHistoryInput(pointer: number): string {\n\n        // if pointer points forward do nothing\n        if(pointer >= 0){\n            this.setState({\n                lastInputPointer: 0\n            });\n            return '';\n        }\n\n        // get all inputs\n        const newInputEvents =\n            this.state.events\n                .filter((gameEvent): gameEvent is NewInputEvent => gameEvent.type === GameEventType.NEW_INPUT);\n\n        // if the pointer points to the beginning do not allow it to travel further\n        if (Math.abs(pointer) <= newInputEvents.length){\n            this.setState({\n                lastInputPointer: pointer\n            });\n        }\n\n        // return the input pointed at\n        return newInputEvents\n            .map(gameEvent => gameEvent.input)\n            .slice(pointer)\n            .shift() || '';\n\n    }\n}\n\nexport default Game;\n","import classNames from 'classnames';\nimport * as React from 'react';\n\ninterface AsciiImageProps {\n    imageSrc: string;\n    alt: string;\n    className?: string;\n}\n\nfunction AsciiImage(props: AsciiImageProps) {\n    const lines = props.imageSrc.split('\\n').map((line, index) => (\n        <div className={classNames('imageLine', props.className)} key={index}>\n            {line}\n        </div>\n    ));\n    return (\n        <div className={classNames('image', props.className)} \n             role=\"figure\" \n             aria-label={props.alt}>\n            {lines}\n        </div>\n    );\n}\n\nexport default AsciiImage;\n","import * as React from 'react';\nimport Game from \"../Game\";\nimport AsciiImage from \"./AsciiImage\";\nimport Logo from \"./title\";\n\nfunction GameSplashView() {\n    return <div className=\"game-intro\">\n        <AsciiImage className={\"intro\"} imageSrc={Logo} alt={\"LBPQuest Logo\"}/>\n        <h1 className=\"sr-only\">LBPQuest</h1>\n        <h2 className=\"game-intro-subtitle\">A Quest for LBP XXI</h2>\n        <h3 className=\"game-intro-enter\"\n            role=\"button\"\n            aria-label=\"Press Enter to start the game \">\n            => Press Enter to start the game \n        </h3>\n        <h3 className=\"game-intro-credits\">Dev'd by: rusty-software </h3>\n    </div>;\n}\n\ninterface GameSplashState {\n    gameStarted: boolean\n}\n\nclass GameSplash extends React.Component<any, GameSplashState> {\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            gameStarted: false,\n        };\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleTouch = this.handleTouch.bind(this);\n    }\n\n    public componentDidMount() {\n        document.addEventListener(\"keydown\", this.handleKeyDown, false);\n        document.addEventListener(\"touchstart\", this.handleTouch, false);\n    }\n\n    public handleKeyDown(event: KeyboardEvent) {\n        if (event.key === 'Enter') {\n            this.setState({gameStarted: true})\n        }\n    }\n\n    public handleTouch(event: TouchEvent) {\n        this.setState({gameStarted: true})\n    }\n\n    public render() {\n        return (\n            <div id=\"game\">\n                {\n                    this.state.gameStarted ? <Game/> : <GameSplashView/>\n                }\n            </div>\n        );\n    }\n}\n\nexport default GameSplash;","export default `\n                                                                         \n                                      \n                                                    \n                              \n                                     \n                                     \n                                         \n            \n                                                                      \n                                                                   `","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport GameSplash from \"./view/GameSplashView\";\n\nReactDOM.render(\n  <GameSplash />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}